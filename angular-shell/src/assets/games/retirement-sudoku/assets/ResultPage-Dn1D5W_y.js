import{r as c,b as M,j as e}from"./index-B4nEabuQ.js";import{u as B,G as N}from"./AppRouter-Cf2rbblx.js";import{c as w,X as I}from"./x-DBTCGfmi.js";import{m as b}from"./proxy-Dsw0E1L7.js";/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z=w("calendar",W);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],F=w("phone",E);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$=w("share-2",R);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],D=w("star",L);function O(a){if(a===0)return{label:"Time's Up!",subtext:`Retirement planning is tricky.
Our experts are here to help you plan better.`,points:0,tier:"None",starScore:1};const t=a??1;return t>=90?{label:"Excellent",subtext:`You have learned important
financial and insurance concepts.`,points:100,tier:"Gold",starScore:5}:t>=60?{label:"Good Job",subtext:`You have learned important
financial and insurance concepts.`,points:75,tier:"Silver",starScore:4}:t>=30?{label:"Good",subtext:"You can do better.",points:50,tier:"Bronze",starScore:3}:{label:"Not up to the mark",subtext:"You can do better.",points:25,tier:"Pass",starScore:2}}function P(){const a=c.useRef(null);return c.useEffect(()=>{const t=a.current;if(!t)return;const s=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;const l=["#6B70E5","#9B6FD8","#48BB78","#E53E3E","#F6AD55","#FC8181","#f59e0b","#0ea5e9"],d=[];class n{constructor(){this.reset()}reset(){this.x=Math.random()*t.width,this.y=Math.random()*t.height-t.height,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.speed=Math.random()*3+2,this.color=l[Math.floor(Math.random()*l.length)],this.rotationSpeed=Math.random()*5-2.5}update(){this.y+=this.speed,this.rotation+=this.rotationSpeed,this.y>t.height&&this.reset()}draw(){s.save(),s.translate(this.x,this.y),s.rotate(this.rotation*Math.PI/180),s.fillStyle=this.color,s.fillRect(-this.size/2,-this.size/2,this.size,this.size),s.restore()}}for(let o=0;o<100;o++)d.push(new n);let m;const h=()=>{s.clearRect(0,0,t.width,t.height),d.forEach(o=>{o.update(),o.draw()}),m=requestAnimationFrame(h)};h();const p=setTimeout(()=>{cancelAnimationFrame(m),s.clearRect(0,0,t.width,t.height)},3e3),r=()=>{t.width=window.innerWidth,t.height=window.innerHeight};return window.addEventListener("resize",r),()=>{cancelAnimationFrame(m),clearTimeout(p),window.removeEventListener("resize",r)}},[]),e.jsx("canvas",{ref:a,style:{position:"fixed",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:100}})}function _({tier:a}){const{starScore:t,points:s}=a;let l="rgba(255,70,70,0.25)";return t===3&&(l="rgba(255,165,0,0.25)"),t>=4&&(l="rgba(0,200,100,0.25)"),e.jsxs("div",{style:{position:"relative",width:"12rem",height:"14rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsxs("svg",{viewBox:"0 0 100 120",style:{position:"absolute",inset:0,width:"100%",height:"100%",filter:`drop-shadow(0 4px 6px rgba(0,0,0,0.25)) drop-shadow(0 0 15px ${l})`,overflow:"visible"},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"rShieldBorder",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#FF9A00"}),e.jsx("stop",{offset:"100%",stopColor:"#FF6A00"})]}),e.jsxs("linearGradient",{id:"rShieldBg",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#1E3A8A"}),e.jsx("stop",{offset:"100%",stopColor:"#0F2A5F"})]})]}),e.jsx("path",{d:"M50 5 L95 25 V55 C95 85 50 115 50 115 C50 115 5 85 5 55 V25 L50 5 Z",fill:"url(#rShieldBg)",stroke:"url(#rShieldBorder)",strokeWidth:"3",strokeLinejoin:"round"})]}),e.jsxs("div",{style:{position:"relative",zIndex:10,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"0.5rem",gap:"0.75rem",transform:"translateY(-8px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"baseline",color:"#fff",fontWeight:700,lineHeight:1},children:[e.jsx("span",{style:{fontSize:"3.5rem",letterSpacing:"-0.02em"},children:s}),e.jsx("span",{style:{fontSize:"1.5rem",opacity:.9,marginLeft:"2px"},children:"pts"})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[...Array(5)].map((d,n)=>e.jsx(D,{size:18,fill:n<t?"#FFB800":"rgba(255,255,255,0.2)",stroke:"none"},n))})]})]})}function G({isOpen:a,onClose:t,onSubmit:s,initialName:l,initialMobile:d}){const[n,m]=c.useState({name:l||"",mobile:d||"",date:"",time:""}),[h,p]=c.useState(!0),[r,o]=c.useState({}),[g,v]=c.useState(!1),f=(i,x)=>{m(u=>({...u,[i]:x})),r[i]&&o(u=>({...u,[i]:null}))},y=()=>{const i={};return n.name.trim()?/^[A-Za-z\s]+$/.test(n.name.trim())||(i.name="Letters only"):i.name="Name is required",/^\d{10}$/.test(n.mobile)||(i.mobile="Enter valid 10-digit number"),n.date||(i.date="Date is required"),n.time||(i.time="Time is required"),h||(i.terms="Please accept the terms"),o(i),Object.keys(i).length===0},C=i=>{i.preventDefault(),y()&&(v(!0),setTimeout(()=>{v(!1),s&&s(n)},800))},T=new Date().toISOString().split("T")[0];return a?e.jsx("div",{style:{position:"fixed",inset:0,zIndex:200,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",background:"rgba(0,0,0,0.65)",backdropFilter:"blur(4px)"},onClick:t,children:e.jsxs(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:i=>i.stopPropagation(),style:{background:"#fff",padding:"1.5rem",width:"100%",maxWidth:"22rem",position:"relative",borderRadius:"0.5rem",border:"4px solid rgba(255,255,255,0.5)"},children:[e.jsx("button",{onClick:t,style:{position:"absolute",top:"1rem",right:"1rem",background:"#f1f5f9",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"0.25rem"},children:e.jsx(I,{size:18,color:"#94a3b8"})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0.5rem",color:"#FF8C00"},children:e.jsx(z,{size:28})}),e.jsx("h2",{style:{color:"#0066B2",fontWeight:900,textAlign:"center",marginBottom:"1.25rem",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Book a Convenient Slot"}),e.jsxs("form",{onSubmit:C,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Your Name"}),e.jsx("input",{type:"text",value:n.name,onChange:i=>{/^[A-Za-z\s]*$/.test(i.target.value)&&f("name",i.target.value)},placeholder:"Full Name",style:{width:"100%",height:"2.75rem",border:`2px solid ${r.name?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 1rem",fontSize:"0.875rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box"}}),r.name&&e.jsx("span",{style:{fontSize:"0.625rem",color:"#ef4444",fontWeight:700,textTransform:"uppercase"},children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Mobile Number"}),e.jsx("input",{type:"tel",value:n.mobile,onChange:i=>{const x=i.target.value.replace(/\D/g,"").slice(0,10);f("mobile",x)},placeholder:"9876543210",style:{width:"100%",height:"2.75rem",border:`2px solid ${r.mobile?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 1rem",fontSize:"0.875rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box"}}),r.mobile&&e.jsx("span",{style:{fontSize:"0.625rem",color:"#ef4444",fontWeight:700,textTransform:"uppercase"},children:r.mobile})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Date"}),e.jsx("input",{type:"date",min:T,value:n.date,onChange:i=>f("date",i.target.value),style:{width:"100%",height:"2.75rem",border:`2px solid ${r.date?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box"}}),r.date&&e.jsx("span",{style:{fontSize:"0.6rem",color:"#ef4444",fontWeight:700},children:r.date})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Time"}),e.jsxs("select",{value:n.time,onChange:i=>f("time",i.target.value),style:{width:"100%",height:"2.75rem",border:`2px solid ${r.time?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 0.5rem",fontSize:"0.7rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box",appearance:"none"},children:[e.jsx("option",{value:"",children:"Select Slot"}),[...Array(12)].map((i,x)=>{const u=9+x,A=u+1,S=j=>`${j>12?j-12:j}:00 ${j>=12?"PM":"AM"}`,k=`${S(u)} - ${S(A)}`;return e.jsx("option",{value:k,children:k},u)})]}),r.time&&e.jsx("span",{style:{fontSize:"0.6rem",color:"#ef4444",fontWeight:700},children:r.time})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",background:"#f8fafc",padding:"0.75rem",border:"2px solid #e2e8f0"},children:[e.jsx("input",{type:"checkbox",checked:h,onChange:i=>{p(i.target.checked),r.terms&&o(x=>({...x,terms:null}))},style:{marginTop:"2px",cursor:"pointer"}}),e.jsx("label",{style:{fontSize:"0.65rem",color:"#64748b",lineHeight:1.4},children:"I authorize Bajaj Life Insurance to contact me for this request, overriding DND registry."})]}),r.terms&&e.jsx("div",{style:{fontSize:"0.625rem",color:"#ef4444",fontWeight:700,textTransform:"uppercase",textAlign:"center"},children:r.terms}),e.jsx("button",{type:"submit",disabled:g,style:{width:"100%",padding:"1rem",background:"#FF8C00",border:"2px solid rgba(255,255,255,0.2)",color:"#fff",fontWeight:900,fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.1em",cursor:g?"not-allowed":"pointer",opacity:g?.7:1,boxShadow:"0 6px 0 #993D00",transition:"all 0.15s"},children:g?"Confirmingâ€¦":"Book a Slot"})]})]})}):null}const V=c.memo(function(){const t=M(),{state:s,restartGame:l}=B(),[d,n]=c.useState(!1),m=s.phase===N.WON,h=s.phase===N.TIMEUP,p=m||h,r=O(s.timeAtWin);if(c.useEffect(()=>{p||t("/",{replace:!0})},[p,t]),!p)return null;const o=async()=>{const y=`I just solved Retirement Sudoku by Bajaj Life! I scored ${r.points} points (${r.tier} tier). Try it yourself: ${window.location.origin}`;if(navigator.share)try{await navigator.share({title:"Retirement Sudoku Score",text:y,url:window.location.origin})}catch{}else navigator.clipboard.writeText(y),alert("Result copied to clipboard!")},g=()=>{n(!1),t("/thank-you")},f=(sessionStorage.getItem("sudokuUserName")||"CHAMPION").split(" ")[0].toUpperCase()||"CHAMPION";return e.jsxs("div",{className:"w-full h-dvh flex flex-col items-center justify-center px-4 py-2 text-center overflow-hidden font-sans relative",style:{background:"linear-gradient(160deg, #0f172a 0%, #1e3a5f 55%, #0c1a2e 100%)"},children:[e.jsx(P,{}),e.jsx("button",{onClick:o,className:"absolute right-4 top-4 p-2 text-white/80 hover:text-white transition-colors z-20",title:"Share Score",children:e.jsx($,{className:"w-5 h-5"})}),e.jsxs("div",{className:"w-full max-w-xs flex flex-col items-center z-10",children:[e.jsxs(b.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-extrabold text-white tracking-widest uppercase leading-none mt-2",children:["HI ",f.split(" ")[0].toUpperCase(),"!"]}),e.jsx("div",{className:"h-3 shrink-0"}),e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xs font-semibold text-white/80 tracking-widest uppercase",children:["YOUR ",e.jsx("span",{className:"text-orange-500 font-extrabold text-sm mx-1",children:"SCORE"})," IS"]}),e.jsx("div",{className:"h-4 shrink-0"}),e.jsx("div",{className:"relative transform scale-[0.65] min-[375px]:scale-75 origin-center -my-10 -translate-y-2",children:e.jsx(b.div,{initial:{scale:0,rotate:-12},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:18,delay:.25},children:e.jsx(_,{tier:r})})}),e.jsx("div",{className:"h-3 shrink-0"}),e.jsx("h2",{className:"text-xl font-bold text-white tracking-wide leading-tight",children:r.label}),e.jsx("div",{className:"h-2 shrink-0"}),e.jsx("div",{className:"w-full",children:e.jsx("p",{className:"text-white/80 text-xs leading-tight whitespace-pre-line px-2",children:r.subtext})}),e.jsx("div",{className:"h-4 shrink-0"}),e.jsxs("div",{className:"w-full flex flex-col gap-3",children:[e.jsxs(b.button,{onClick:o,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"w-full h-11 bg-orange-500 hover:bg-orange-600 text-white font-bold text-sm uppercase tracking-wide rounded-xl shadow-sm flex items-center justify-center gap-2 border border-white/10 transition-all",children:["SHARE",e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:e.jsx("path",{d:"M14 5V2L22 9L14 16V13C7 13 4 15 2 20C4 12 7 8 14 8V5Z"})})]}),e.jsx(b.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-blue-900/30 border border-white/10 rounded-lg p-2.5 mx-1 backdrop-blur-sm",children:e.jsx("p",{className:"text-white/90 text-xs leading-tight font-medium",children:'"To know more about insurance and savings products, please connect with our relationship manager."'})}),e.jsxs("button",{onClick:()=>window.location.href="tel:18002099999",className:"w-full h-11 bg-blue-600 hover:bg-blue-700 text-white font-bold text-sm uppercase tracking-wide rounded-xl shadow-sm flex items-center justify-center gap-2 border-2 border-transparent hover:border-white/20 transition-all",children:[e.jsx(F,{className:"w-4 h-4 fill-current"}),"CALL NOW"]}),e.jsxs("button",{onClick:()=>n(!0),className:"w-full h-11 bg-amber-500 hover:bg-amber-600 text-white font-bold text-sm uppercase tracking-wide rounded-xl shadow-sm flex items-center justify-center gap-2 border-2 border-transparent hover:border-white/20 transition-all",children:[e.jsx(z,{className:"w-4 h-4"}),"BOOK SLOT"]}),e.jsx("button",{onClick:()=>{l(),t("/game")},className:"text-white/70 text-xs font-bold uppercase tracking-widest hover:text-white transition-colors underline underline-offset-4 mt-1",children:"Try Again"})]})]}),e.jsx(G,{isOpen:d,onClose:()=>n(!1),onSubmit:g,initialName:f,initialMobile:sessionStorage.getItem("lastSubmittedPhone")||""})]})});export{V as default};
