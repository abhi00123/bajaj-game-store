import{r as f,j as l}from"./index-BRpmga18.js";function fo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const as=f.createContext({});function ls(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const ft=f.createContext(null),cs=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class po extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function go({children:e,isPresent:t}){const s=f.useId(),n=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=f.useContext(cs);return f.useInsertionEffect(()=>{const{width:r,height:a,top:c,left:u}=i.current;if(t||!n.current||!r||!a)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(po,{isPresent:t,childRef:n,sizeRef:i,children:f.cloneElement(e,{ref:n})})}const xo=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:r})=>{const a=ls(yo),c=f.useId(),u=f.useCallback(h=>{a.set(h,!0);for(const m of a.values())if(!m)return;n&&n()},[a,n]),d=f.useMemo(()=>({id:c,initial:t,isPresent:s,custom:i,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),o?[Math.random(),u]:[s,u]);return f.useMemo(()=>{a.forEach((h,m)=>a.set(m,!1))},[s]),f.useEffect(()=>{!s&&!a.size&&n&&n()},[s]),r==="popLayout"&&(e=l.jsx(go,{isPresent:s,children:e})),l.jsx(ft.Provider,{value:d,children:e})};function yo(){return new Map}function Si(e=!0){const t=f.useContext(ft);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,o=f.useId();f.useEffect(()=>{e&&i(o)},[e]);const r=f.useCallback(()=>e&&n&&n(o),[o,n,e]);return!s&&n?[!1,r]:[!0]}const et=e=>e.key||"";function Xs(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const us=typeof window<"u",Ti=us?f.useLayoutEffect:f.useEffect,Pe=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1})=>{const[a,c]=Si(r),u=f.useMemo(()=>Xs(e),[e]),d=r&&!a?[]:u.map(et),h=f.useRef(!0),m=f.useRef(u),p=ls(()=>new Map),[x,g]=f.useState(u),[b,y]=f.useState(u);Ti(()=>{h.current=!1,m.current=u;for(let T=0;T<b.length;T++){const w=et(b[T]);d.includes(w)?p.delete(w):p.get(w)!==!0&&p.set(w,!1)}},[b,d.length,d.join("-")]);const v=[];if(u!==x){let T=[...u];for(let w=0;w<b.length;w++){const A=b[w],M=et(A);d.includes(M)||(T.splice(w,0,A),v.push(A))}o==="wait"&&v.length&&(T=v),y(Xs(T)),g(u);return}const{forceRender:S}=f.useContext(as);return l.jsx(l.Fragment,{children:b.map(T=>{const w=et(T),A=r&&!a?!1:u===b||d.includes(w),M=()=>{if(p.has(w))p.set(w,!0);else return;let P=!0;p.forEach(D=>{D||(P=!1)}),P&&(S==null||S(),y(m.current),r&&(c==null||c()),n&&n())};return l.jsx(xo,{isPresent:A,initial:!h.current||s?void 0:!1,custom:A?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:A?void 0:M,children:T},w)})})},X=e=>e;let ji=X;function ds(e){let t;return()=>(t===void 0&&(t=e()),t)}const ke=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},re=e=>e*1e3,oe=e=>e/1e3,vo={useManualTiming:!1};function bo(e){let t=new Set,s=new Set,n=!1,i=!1;const o=new WeakSet;let r={delta:0,timestamp:0,isProcessing:!1};function a(u){o.has(u)&&(c.schedule(u),e()),u(r)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&n?t:s;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(r=u,n){i=!0;return}n=!0,[t,s]=[s,t],t.forEach(a),t.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const tt=["read","resolveKeyframes","update","preRender","render","postRender"],wo=40;function Ci(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,r=tt.reduce((y,v)=>(y[v]=bo(o),y),{}),{read:a,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=r,p=()=>{const y=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,wo),1),i.timestamp=y,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),d.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(p))},x=()=>{s=!0,n=!0,i.isProcessing||e(p)};return{schedule:tt.reduce((y,v)=>{const S=r[v];return y[v]=(T,w=!1,A=!1)=>(s||x(),S.schedule(T,w,A)),y},{}),cancel:y=>{for(let v=0;v<tt.length;v++)r[tt[v]].cancel(y)},state:i,steps:r}}const{schedule:I,cancel:ue,state:$,steps:Ct}=Ci(typeof requestAnimationFrame<"u"?requestAnimationFrame:X,!0),Pi=f.createContext({strict:!1}),Zs={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ne={};for(const e in Zs)Ne[e]={isEnabled:t=>Zs[e].some(s=>!!t[s])};function So(e){for(const t in e)Ne[t]={...Ne[t],...e[t]}}const To=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function at(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||To.has(e)}let ki=e=>!at(e);function jo(e){e&&(ki=t=>t.startsWith("on")?!at(t):e(t))}try{jo(require("@emotion/is-prop-valid").default)}catch{}function Co(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(ki(i)||s===!0&&at(i)||!t&&!at(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function Po(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const pt=f.createContext({});function $e(e){return typeof e=="string"||Array.isArray(e)}function gt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const hs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ms=["initial",...hs];function xt(e){return gt(e.animate)||ms.some(t=>$e(e[t]))}function Ni(e){return!!(xt(e)||e.variants)}function ko(e,t){if(xt(e)){const{initial:s,animate:n}=e;return{initial:s===!1||$e(s)?s:void 0,animate:$e(n)?n:void 0}}return e.inherit!==!1?t:{}}function No(e){const{initial:t,animate:s}=ko(e,f.useContext(pt));return f.useMemo(()=>({initial:t,animate:s}),[Js(t),Js(s)])}function Js(e){return Array.isArray(e)?e.join(" "):e}const Ao=Symbol.for("motionComponentSymbol");function we(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Eo(e,t,s){return f.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):we(s)&&(s.current=n))},[t])}const fs=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mo="framerAppearId",Ai="data-"+fs(Mo),{schedule:ps}=Ci(queueMicrotask,!1),Ei=f.createContext({});function Ro(e,t,s,n,i){var o,r;const{visualElement:a}=f.useContext(pt),c=f.useContext(Pi),u=f.useContext(ft),d=f.useContext(cs).reducedMotion,h=f.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:a,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=f.useContext(Ei);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Do(h.current,s,i,p);const x=f.useRef(!1);f.useInsertionEffect(()=>{m&&x.current&&m.update(s,u)});const g=s[Ai],b=f.useRef(!!g&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,g))&&((r=window.MotionHasOptimisedAnimation)===null||r===void 0?void 0:r.call(window,g)));return Ti(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ps.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),b.current=!1))}),m}function Do(e,t,s,n){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:c,layoutRoot:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Mi(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&we(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function Mi(e){if(e)return e.options.allowProjection!==!1?e.projection:Mi(e.parent)}function Vo({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){var o,r;e&&So(e);function a(u,d){let h;const m={...f.useContext(cs),...u,layoutId:Io(u)},{isStatic:p}=m,x=No(u),g=n(u,p);if(!p&&us){Fo();const b=Lo(m);h=b.MeasureLayout,x.visualElement=Ro(i,g,m,t,b.ProjectionNode)}return l.jsxs(pt.Provider,{value:x,children:[h&&x.visualElement?l.jsx(h,{visualElement:x.visualElement,...m}):null,s(i,u,Eo(g,x.visualElement,d),g,p,x.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(r=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&r!==void 0?r:""})`}`;const c=f.forwardRef(a);return c[Ao]=i,c}function Io({layoutId:e}){const t=f.useContext(as).id;return t&&e!==void 0?t+"-"+e:e}function Fo(e,t){f.useContext(Pi).strict}function Lo(e){const{drag:t,layout:s}=Ne;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Oo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gs(e){return typeof e!="string"||e.includes("-")?!1:!!(Oo.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qs(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function xs(e,t,s,n){if(typeof t=="function"){const[i,o]=Qs(n);t=t(s!==void 0?s:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Qs(n);t=t(s!==void 0?s:e.custom,i,o)}return t}const Ut=e=>Array.isArray(e),Bo=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),_o=e=>Ut(e)?e[e.length-1]||0:e,H=e=>!!(e&&e.getVelocity);function it(e){const t=H(e)?e.get():e;return Bo(t)?t.toValue():t}function zo({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,i,o){const r={latestValues:Uo(n,i,o,e),renderState:t()};return s&&(r.onMount=a=>s({props:n,current:a,...r}),r.onUpdate=a=>s(a)),r}const Ri=e=>(t,s)=>{const n=f.useContext(pt),i=f.useContext(ft),o=()=>zo(e,t,n,i);return s?o():ls(o)};function Uo(e,t,s,n){const i={},o=n(e,{});for(const m in o)i[m]=it(o[m]);let{initial:r,animate:a}=e;const c=xt(e),u=Ni(e);t&&u&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let d=s?s.initial===!1:!1;d=d||r===!1;const h=d?a:r;if(h&&typeof h!="boolean"&&!gt(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const x=xs(e,m[p]);if(x){const{transitionEnd:g,transition:b,...y}=x;for(const v in y){let S=y[v];if(Array.isArray(S)){const T=d?S.length-1:0;S=S[T]}S!==null&&(i[v]=S)}for(const v in g)i[v]=g[v]}}}return i}const Ee=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ve=new Set(Ee),Di=e=>t=>typeof t=="string"&&t.startsWith(e),Vi=Di("--"),$o=Di("var(--"),ys=e=>$o(e)?Wo.test(e.split("/*")[0].trim()):!1,Wo=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ii=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ae=(e,t,s)=>s>t?t:s<e?e:s,Me={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},We={...Me,transform:e=>ae(0,1,e)},st={...Me,default:1},Ye=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ce=Ye("deg"),se=Ye("%"),N=Ye("px"),Go=Ye("vh"),Ko=Ye("vw"),en={...se,parse:e=>se.parse(e)/100,transform:e=>se.transform(e*100)},Ho={borderWidth:N,borderTopWidth:N,borderRightWidth:N,borderBottomWidth:N,borderLeftWidth:N,borderRadius:N,radius:N,borderTopLeftRadius:N,borderTopRightRadius:N,borderBottomRightRadius:N,borderBottomLeftRadius:N,width:N,maxWidth:N,height:N,maxHeight:N,top:N,right:N,bottom:N,left:N,padding:N,paddingTop:N,paddingRight:N,paddingBottom:N,paddingLeft:N,margin:N,marginTop:N,marginRight:N,marginBottom:N,marginLeft:N,backgroundPositionX:N,backgroundPositionY:N},qo={rotate:ce,rotateX:ce,rotateY:ce,rotateZ:ce,scale:st,scaleX:st,scaleY:st,scaleZ:st,skew:ce,skewX:ce,skewY:ce,distance:N,translateX:N,translateY:N,translateZ:N,x:N,y:N,z:N,perspective:N,transformPerspective:N,opacity:We,originX:en,originY:en,originZ:N},tn={...Me,transform:Math.round},vs={...Ho,...qo,zIndex:tn,size:N,fillOpacity:We,strokeOpacity:We,numOctaves:tn},Yo={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xo=Ee.length;function Zo(e,t,s){let n="",i=!0;for(let o=0;o<Xo;o++){const r=Ee[o],a=e[r];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(r.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||s){const u=Ii(a,vs[r]);if(!c){i=!1;const d=Yo[r]||r;n+=`${d}(${u}) `}s&&(t[r]=u)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function bs(e,t,s){const{style:n,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const c in t){const u=t[c];if(ve.has(c)){r=!0;continue}else if(Vi(c)){i[c]=u;continue}else{const d=Ii(u,vs[c]);c.startsWith("origin")?(a=!0,o[c]=d):n[c]=d}}if(t.transform||(r||s?n.transform=Zo(t,e.transform,s):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${c} ${u} ${d}`}}const Jo={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qo={offset:"strokeDashoffset",array:"strokeDasharray"};function ea(e,t,s=1,n=0,i=!0){e.pathLength=1;const o=i?Jo:Qo;e[o.offset]=N.transform(-n);const r=N.transform(t),a=N.transform(s);e[o.array]=`${r} ${a}`}function sn(e,t,s){return typeof e=="string"?e:N.transform(t+s*e)}function ta(e,t,s){const n=sn(t,e.x,e.width),i=sn(s,e.y,e.height);return`${n} ${i}`}function ws(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:o,pathLength:r,pathSpacing:a=1,pathOffset:c=0,...u},d,h){if(bs(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:x}=e;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=ta(x,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),r!==void 0&&ea(m,r,a,c,!1)}const Ss=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fi=()=>({...Ss(),attrs:{}}),Ts=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Li(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Oi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bi(e,t,s,n){Li(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Oi.has(i)?i:fs(i),t.attrs[i])}const lt={};function sa(e){Object.assign(lt,e)}function _i(e,{layout:t,layoutId:s}){return ve.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!lt[e]||e==="opacity")}function js(e,t,s){var n;const{style:i}=e,o={};for(const r in i)(H(i[r])||t.style&&H(t.style[r])||_i(r,e)||((n=s==null?void 0:s.getValue(r))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(o[r]=i[r]);return o}function zi(e,t,s){const n=js(e,t,s);for(const i in e)if(H(e[i])||H(t[i])){const o=Ee.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=e[i]}return n}function na(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const nn=["x","y","width","height","cx","cy","r"],ia={useVisualState:Ri({scrapeMotionValuesFromProps:zi,createRenderState:Fi,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:i})=>{if(!s)return;let o=!!e.drag;if(!o){for(const a in i)if(ve.has(a)){o=!0;break}}if(!o)return;let r=!t;if(t)for(let a=0;a<nn.length;a++){const c=nn[a];e[c]!==t[c]&&(r=!0)}r&&I.read(()=>{na(s,n),I.render(()=>{ws(n,i,Ts(s.tagName),e.transformTemplate),Bi(s,n)})})}})},ra={useVisualState:Ri({scrapeMotionValuesFromProps:js,createRenderState:Ss})};function Ui(e,t,s){for(const n in t)!H(t[n])&&!_i(n,s)&&(e[n]=t[n])}function oa({transformTemplate:e},t){return f.useMemo(()=>{const s=Ss();return bs(s,t,e),Object.assign({},s.vars,s.style)},[t])}function aa(e,t){const s=e.style||{},n={};return Ui(n,s,e),Object.assign(n,oa(e,t)),n}function la(e,t){const s={},n=aa(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function ca(e,t,s,n){const i=f.useMemo(()=>{const o=Fi();return ws(o,t,Ts(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Ui(o,e.style,e),i.style={...o,...i.style}}return i}function ua(e=!1){return(s,n,i,{latestValues:o},r)=>{const c=(gs(s)?ca:la)(n,o,r,s),u=Co(n,typeof s=="string",e),d=s!==f.Fragment?{...u,...c,ref:i}:{},{children:h}=n,m=f.useMemo(()=>H(h)?h.get():h,[h]);return f.createElement(s,{...d,children:m})}}function da(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const r={...gs(n)?ia:ra,preloadedFeatures:e,useRender:ua(i),createVisualElement:t,Component:n};return Vo(r)}}function $i(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function yt(e,t,s){const n=e.getProps();return xs(n,t,s!==void 0?s:n.custom,e)}const ha=ds(()=>window.ScrollTimeline!==void 0);class ma{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(i=>{if(ha()&&i.attachTimeline)return i.attachTimeline(t);if(typeof s=="function")return s(i)});return()=>{n.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class fa extends ma{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Cs(e,t){return e?e[t]||e.default||e:void 0}const $t=2e4;function Wi(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<$t;)t+=s,n=e.next(t);return t>=$t?1/0:t}function Ps(e){return typeof e=="function"}function rn(e,t){e.timeline=t,e.onfinish=null}const ks=e=>Array.isArray(e)&&typeof e[0]=="number",pa={linearEasing:void 0};function ga(e,t){const s=ds(e);return()=>{var n;return(n=pa[t])!==null&&n!==void 0?n:s()}}const ct=ga(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gi=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let o=0;o<i;o++)n+=e(ke(0,i-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ki(e){return!!(typeof e=="function"&&ct()||!e||typeof e=="string"&&(e in Wt||ct())||ks(e)||Array.isArray(e)&&e.every(Ki))}const Ie=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Wt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ie([0,.65,.55,1]),circOut:Ie([.55,0,1,.45]),backIn:Ie([.31,.01,.66,-.59]),backOut:Ie([.33,1.53,.69,.99])};function Hi(e,t){if(e)return typeof e=="function"&&ct()?Gi(e,t):ks(e)?Ie(e):Array.isArray(e)?e.map(s=>Hi(s,t)||Wt.easeOut):Wt[e]}const ee={x:!1,y:!1};function qi(){return ee.x||ee.y}function xa(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function Yi(e,t){const s=xa(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function on(e){return t=>{t.pointerType==="touch"||qi()||e(t)}}function ya(e,t,s={}){const[n,i,o]=Yi(e,s),r=on(a=>{const{target:c}=a,u=t(a);if(typeof u!="function"||!c)return;const d=on(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const Xi=(e,t)=>t?e===t?!0:Xi(e,t.parentElement):!1,Ns=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,va=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ba(e){return va.has(e.tagName)||e.tabIndex!==-1}const Fe=new WeakSet;function an(e){return t=>{t.key==="Enter"&&e(t)}}function Pt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wa=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=an(()=>{if(Fe.has(s))return;Pt(s,"down");const i=an(()=>{Pt(s,"up")}),o=()=>Pt(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function ln(e){return Ns(e)&&!qi()}function Sa(e,t,s={}){const[n,i,o]=Yi(e,s),r=a=>{const c=a.currentTarget;if(!ln(a)||Fe.has(c))return;Fe.add(c);const u=t(a),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!ln(p)||!Fe.has(c))&&(Fe.delete(c),typeof u=="function"&&u(p,{success:x}))},h=p=>{d(p,s.useGlobalTarget||Xi(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(a=>{!ba(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(s.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),a.addEventListener("focus",u=>wa(u,i),i)}),o}function Ta(e){return e==="x"||e==="y"?ee[e]?null:(ee[e]=!0,()=>{ee[e]=!1}):ee.x||ee.y?null:(ee.x=ee.y=!0,()=>{ee.x=ee.y=!1})}const Zi=new Set(["width","height","top","left","right","bottom",...Ee]);let rt;function ja(){rt=void 0}const ne={now:()=>(rt===void 0&&ne.set($.isProcessing||vo.useManualTiming?$.timestamp:performance.now()),rt),set:e=>{rt=e,queueMicrotask(ja)}};function As(e,t){e.indexOf(t)===-1&&e.push(t)}function Es(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Ms{constructor(){this.subscriptions=[]}add(t){return As(this.subscriptions,t),()=>Es(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ji(e,t){return t?e*(1e3/t):0}const cn=30,Ca=e=>!isNaN(parseFloat(e));class Pa{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const o=ne.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=ne.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ca(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Ms);const n=this.events[t].add(s);return t==="change"?()=>{n(),I.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ne.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,cn);return Ji(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ge(e,t){return new Pa(e,t)}function ka(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ge(s))}function Na(e,t){const s=yt(e,t);let{transitionEnd:n={},transition:i={},...o}=s||{};o={...o,...n};for(const r in o){const a=_o(o[r]);ka(e,r,a)}}function Aa(e){return!!(H(e)&&e.add)}function Gt(e,t){const s=e.getValue("willChange");if(Aa(s))return s.add(t)}function Qi(e){return e.props[Ai]}const er=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Ea=1e-7,Ma=12;function Ra(e,t,s,n,i){let o,r,a=0;do r=t+(s-t)/2,o=er(r,n,i)-e,o>0?s=r:t=r;while(Math.abs(o)>Ea&&++a<Ma);return r}function Xe(e,t,s,n){if(e===t&&s===n)return X;const i=o=>Ra(o,0,1,e,s);return o=>o===0||o===1?o:er(i(o),t,n)}const tr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sr=e=>t=>1-e(1-t),nr=Xe(.33,1.53,.69,.99),Rs=sr(nr),ir=tr(Rs),rr=e=>(e*=2)<1?.5*Rs(e):.5*(2-Math.pow(2,-10*(e-1))),Ds=e=>1-Math.sin(Math.acos(e)),or=sr(Ds),ar=tr(Ds),lr=e=>/^0[^.\s]+$/u.test(e);function Da(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||lr(e):!0}const Oe=e=>Math.round(e*1e5)/1e5,Vs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Va(e){return e==null}const Ia=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Is=(e,t)=>s=>!!(typeof s=="string"&&Ia.test(s)&&s.startsWith(e)||t&&!Va(s)&&Object.prototype.hasOwnProperty.call(s,t)),cr=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,o,r,a]=n.match(Vs);return{[e]:parseFloat(i),[t]:parseFloat(o),[s]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},Fa=e=>ae(0,255,e),kt={...Me,transform:e=>Math.round(Fa(e))},xe={test:Is("rgb","red"),parse:cr("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+kt.transform(e)+", "+kt.transform(t)+", "+kt.transform(s)+", "+Oe(We.transform(n))+")"};function La(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Kt={test:Is("#"),parse:La,transform:xe.transform},Se={test:Is("hsl","hue"),parse:cr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+se.transform(Oe(t))+", "+se.transform(Oe(s))+", "+Oe(We.transform(n))+")"},K={test:e=>xe.test(e)||Kt.test(e)||Se.test(e),parse:e=>xe.test(e)?xe.parse(e):Se.test(e)?Se.parse(e):Kt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xe.transform(e):Se.transform(e)},Oa=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ba(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Vs))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Oa))===null||s===void 0?void 0:s.length)||0)>0}const ur="number",dr="color",_a="var",za="var(",un="${}",Ua=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ke(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(Ua,c=>(K.test(c)?(n.color.push(o),i.push(dr),s.push(K.parse(c))):c.startsWith(za)?(n.var.push(o),i.push(_a),s.push(c)):(n.number.push(o),i.push(ur),s.push(parseFloat(c))),++o,un)).split(un);return{values:s,split:a,indexes:n,types:i}}function hr(e){return Ke(e).values}function mr(e){const{split:t,types:s}=Ke(e),n=t.length;return i=>{let o="";for(let r=0;r<n;r++)if(o+=t[r],i[r]!==void 0){const a=s[r];a===ur?o+=Oe(i[r]):a===dr?o+=K.transform(i[r]):o+=i[r]}return o}}const $a=e=>typeof e=="number"?0:e;function Wa(e){const t=hr(e);return mr(e)(t.map($a))}const de={test:Ba,parse:hr,createTransformer:mr,getAnimatableNone:Wa},Ga=new Set(["brightness","contrast","saturate","opacity"]);function Ka(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Vs)||[];if(!n)return e;const i=s.replace(n,"");let o=Ga.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+i+")"}const Ha=/\b([a-z-]*)\(.*?\)/gu,Ht={...de,getAnimatableNone:e=>{const t=e.match(Ha);return t?t.map(Ka).join(" "):e}},qa={...vs,color:K,backgroundColor:K,outlineColor:K,fill:K,stroke:K,borderColor:K,borderTopColor:K,borderRightColor:K,borderBottomColor:K,borderLeftColor:K,filter:Ht,WebkitFilter:Ht},Fs=e=>qa[e];function fr(e,t){let s=Fs(e);return s!==Ht&&(s=de),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Ya=new Set(["auto","none","0"]);function Xa(e,t,s){let n=0,i;for(;n<e.length&&!i;){const o=e[n];typeof o=="string"&&!Ya.has(o)&&Ke(o).values.length&&(i=e[n]),n++}if(i&&s)for(const o of t)e[o]=fr(s,i)}const dn=e=>e===Me||e===N,hn=(e,t)=>parseFloat(e.split(", ")[t]),mn=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return hn(i[1],t);{const o=n.match(/^matrix\((.+)\)$/u);return o?hn(o[1],e):0}},Za=new Set(["x","y","z"]),Ja=Ee.filter(e=>!Za.has(e));function Qa(e){const t=[];return Ja.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Ae={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mn(4,13),y:mn(5,14)};Ae.translateX=Ae.x;Ae.translateY=Ae.y;const ye=new Set;let qt=!1,Yt=!1;function pr(){if(Yt){const e=Array.from(ye).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=Qa(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([o,r])=>{var a;(a=n.getValue(o))===null||a===void 0||a.set(r)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Yt=!1,qt=!1,ye.forEach(e=>e.complete()),ye.clear()}function gr(){ye.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yt=!0)})}function el(){gr(),pr()}class Ls{constructor(t,s,n,i,o,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ye.add(this),qt||(qt=!0,I.read(gr),I.resolveKeyframes(pr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const r=i==null?void 0:i.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(n&&s){const c=n.readValue(s,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),i&&r===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ye.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ye.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),tl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sl(e){const t=tl.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function yr(e,t,s=1){const[n,i]=sl(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const r=o.trim();return xr(r)?parseFloat(r):r}return ys(i)?yr(i,t,s+1):i}const vr=e=>t=>t.test(e),nl={test:e=>e==="auto",parse:e=>e},br=[Me,N,se,ce,Ko,Go,nl],fn=e=>br.find(vr(e));class wr extends Ls{constructor(t,s,n,i,o){super(t,s,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ys(u))){const d=yr(u,s.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Zi.has(n)||t.length!==2)return;const[i,o]=t,r=fn(i),a=fn(o);if(r!==a)if(dn(r)&&dn(a))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)Da(t[i])&&n.push(i);n.length&&Xa(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ae[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const o=s.getValue(n);o&&o.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Ae[n](s.measureViewportBox(),window.getComputedStyle(s.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const pn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(de.test(e)||e==="0")&&!e.startsWith("url("));function il(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function rl(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=pn(i,t),a=pn(o,t);return!r||!a?!1:il(e)||(s==="spring"||Ps(s))&&n}const ol=e=>e!==null;function vt(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(ol),o=t&&s!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const al=40;class Sr{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ne.now(),this.options={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:o,repeatType:r,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>al?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&el(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=ne.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:o,delay:r,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!rl(t,n,i,o))if(r)this.options.duration=0;else{c&&c(vt(t,this.options,s)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,s);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...d},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const O=(e,t,s)=>e+(t-e)*s;function Nt(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ll({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,o=0,r=0;if(!t)i=o=r=s;else{const a=s<.5?s*(1+t):s+t-s*t,c=2*s-a;i=Nt(c,a,e+1/3),o=Nt(c,a,e),r=Nt(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:n}}function ut(e,t){return s=>s>0?t:e}const At=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},cl=[Kt,xe,Se],ul=e=>cl.find(t=>t.test(e));function gn(e){const t=ul(e);if(!t)return!1;let s=t.parse(e);return t===Se&&(s=ll(s)),s}const xn=(e,t)=>{const s=gn(e),n=gn(t);if(!s||!n)return ut(e,t);const i={...s};return o=>(i.red=At(s.red,n.red,o),i.green=At(s.green,n.green,o),i.blue=At(s.blue,n.blue,o),i.alpha=O(s.alpha,n.alpha,o),xe.transform(i))},dl=(e,t)=>s=>t(e(s)),Ze=(...e)=>e.reduce(dl),Xt=new Set(["none","hidden"]);function hl(e,t){return Xt.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function ml(e,t){return s=>O(e,t,s)}function Os(e){return typeof e=="number"?ml:typeof e=="string"?ys(e)?ut:K.test(e)?xn:gl:Array.isArray(e)?Tr:typeof e=="object"?K.test(e)?xn:fl:ut}function Tr(e,t){const s=[...e],n=s.length,i=e.map((o,r)=>Os(o)(o,t[r]));return o=>{for(let r=0;r<n;r++)s[r]=i[r](o);return s}}function fl(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Os(e[i])(e[i],t[i]));return i=>{for(const o in n)s[o]=n[o](i);return s}}function pl(e,t){var s;const n=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const r=t.types[o],a=e.indexes[r][i[r]],c=(s=e.values[a])!==null&&s!==void 0?s:0;n[o]=c,i[r]++}return n}const gl=(e,t)=>{const s=de.createTransformer(t),n=Ke(e),i=Ke(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Xt.has(e)&&!i.values.length||Xt.has(t)&&!n.values.length?hl(e,t):Ze(Tr(pl(n,i),i.values),s):ut(e,t)};function jr(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?O(e,t,s):Os(e)(e,t)}const xl=5;function Cr(e,t,s){const n=Math.max(t-xl,0);return Ji(s-e(n),t-n)}const _={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Et=.001;function yl({duration:e=_.duration,bounce:t=_.bounce,velocity:s=_.velocity,mass:n=_.mass}){let i,o,r=1-t;r=ae(_.minDamping,_.maxDamping,r),e=ae(_.minDuration,_.maxDuration,oe(e)),r<1?(i=u=>{const d=u*r,h=d*e,m=d-s,p=Zt(u,r),x=Math.exp(-h);return Et-m/p*x},o=u=>{const h=u*r*e,m=h*s+s,p=Math.pow(r,2)*Math.pow(u,2)*e,x=Math.exp(-h),g=Zt(Math.pow(u,2),r);return(-i(u)+Et>0?-1:1)*((m-p)*x)/g}):(i=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-Et+d*h},o=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const a=5/e,c=bl(i,o,a);if(e=re(e),isNaN(c))return{stiffness:_.stiffness,damping:_.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:r*2*Math.sqrt(n*u),duration:e}}}const vl=12;function bl(e,t,s){let n=s;for(let i=1;i<vl;i++)n=n-e(n)/t(n);return n}function Zt(e,t){return e*Math.sqrt(1-t*t)}const wl=["duration","bounce"],Sl=["stiffness","damping","mass"];function yn(e,t){return t.some(s=>e[s]!==void 0)}function Tl(e){let t={velocity:_.velocity,stiffness:_.stiffness,damping:_.damping,mass:_.mass,isResolvedFromDuration:!1,...e};if(!yn(e,Sl)&&yn(e,wl))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,o=2*ae(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:_.mass,stiffness:i,damping:o}}else{const s=yl(e);t={...t,...s,mass:_.mass},t.isResolvedFromDuration=!0}return t}function Pr(e=_.visualDuration,t=_.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const o=s.keyframes[0],r=s.keyframes[s.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=Tl({...s,velocity:-oe(s.velocity||0)}),x=m||0,g=u/(2*Math.sqrt(c*d)),b=r-o,y=oe(Math.sqrt(c/d)),v=Math.abs(b)<5;n||(n=v?_.restSpeed.granular:_.restSpeed.default),i||(i=v?_.restDelta.granular:_.restDelta.default);let S;if(g<1){const w=Zt(y,g);S=A=>{const M=Math.exp(-g*y*A);return r-M*((x+g*y*b)/w*Math.sin(w*A)+b*Math.cos(w*A))}}else if(g===1)S=w=>r-Math.exp(-y*w)*(b+(x+y*b)*w);else{const w=y*Math.sqrt(g*g-1);S=A=>{const M=Math.exp(-g*y*A),P=Math.min(w*A,300);return r-M*((x+g*y*b)*Math.sinh(P)+w*b*Math.cosh(P))/w}}const T={calculatedDuration:p&&h||null,next:w=>{const A=S(w);if(p)a.done=w>=h;else{let M=0;g<1&&(M=w===0?re(x):Cr(S,w,A));const P=Math.abs(M)<=n,D=Math.abs(r-A)<=i;a.done=P&&D}return a.value=a.done?r:A,a},toString:()=>{const w=Math.min(Wi(T),$t),A=Gi(M=>T.next(w*M).value,w,30);return w+"ms "+A}};return T}function vn({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},p=P=>a!==void 0&&P<a||c!==void 0&&P>c,x=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let g=s*t;const b=h+g,y=r===void 0?b:r(b);y!==b&&(g=y-h);const v=P=>-g*Math.exp(-P/n),S=P=>y+v(P),T=P=>{const D=v(P),k=S(P);m.done=Math.abs(D)<=u,m.value=m.done?y:k};let w,A;const M=P=>{p(m.value)&&(w=P,A=Pr({keyframes:[m.value,x(m.value)],velocity:Cr(S,P,m.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:P=>{let D=!1;return!A&&w===void 0&&(D=!0,T(P),M(P)),w!==void 0&&P>=w?A.next(P-w):(!D&&T(P),m)}}}const jl=Xe(.42,0,1,1),Cl=Xe(0,0,.58,1),kr=Xe(.42,0,.58,1),Pl=e=>Array.isArray(e)&&typeof e[0]!="number",kl={linear:X,easeIn:jl,easeInOut:kr,easeOut:Cl,circIn:Ds,circInOut:ar,circOut:or,backIn:Rs,backInOut:ir,backOut:nr,anticipate:rr},bn=e=>{if(ks(e)){ji(e.length===4);const[t,s,n,i]=e;return Xe(t,s,n,i)}else if(typeof e=="string")return kl[e];return e};function Nl(e,t,s){const n=[],i=s||jr,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||X:t;a=Ze(c,a)}n.push(a)}return n}function Al(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const o=e.length;if(ji(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Nl(t,n,i),c=a.length,u=d=>{if(r&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=ke(e[h],e[h+1],d);return a[h](m)};return s?d=>u(ae(e[0],e[o-1],d)):u}function El(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=ke(0,t,n);e.push(O(s,1,i))}}function Ml(e){const t=[0];return El(t,e.length-1),t}function Rl(e,t){return e.map(s=>s*t)}function Dl(e,t){return e.map(()=>t||kr).splice(0,e.length-1)}function dt({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=Pl(n)?n.map(bn):bn(n),o={done:!1,value:t[0]},r=Rl(s&&s.length===t.length?s:Ml(t),e),a=Al(r,t,{ease:Array.isArray(i)?i:Dl(t,i)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const Vl=e=>{const t=({timestamp:s})=>e(s);return{start:()=>I.update(t,!0),stop:()=>ue(t),now:()=>$.isProcessing?$.timestamp:ne.now()}},Il={decay:vn,inertia:vn,tween:dt,keyframes:dt,spring:Pr},Fl=e=>e/100;class Bs extends Sr{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:i,keyframes:o}=this.options,r=(i==null?void 0:i.KeyframeResolver)||Ls,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new r(o,a,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=this.options,a=Ps(s)?s:Il[s]||dt;let c,u;a!==dt&&typeof t[0]!="number"&&(c=Ze(Fl,jr(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});o==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-r})),d.calculatedDuration===null&&(d.calculatedDuration=Wi(d));const{calculatedDuration:h}=d,m=h+i,p=m*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:r,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return o.next(0);const{delay:m,repeat:p,repeatType:x,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,T=o;if(p){const P=Math.min(this.currentTime,d)/h;let D=Math.floor(P),k=P%1;!k&&P>=1&&(k=1),k===1&&D--,D=Math.min(D,p+1),!!(D%2)&&(x==="reverse"?(k=1-k,g&&(k-=g/h)):x==="mirror"&&(T=r)),S=ae(0,1,k)*h}const w=v?{done:!1,value:c[0]}:T.next(S);a&&(w.value=a(w.value));let{done:A}=w;!v&&u!==null&&(A=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return M&&i!==void 0&&(w.value=vt(c,this.options,i)),b&&b(w.value),M&&this.finish(),w}get duration(){const{resolved:t}=this;return t?oe(t.calculatedDuration):0}get time(){return oe(this.currentTime)}set time(t){t=re(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=oe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Vl,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Ll=new Set(["opacity","clipPath","filter","transform"]);function Ol(e,t,s,{delay:n=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeInOut",times:c}={}){const u={[t]:s};c&&(u.offset=c);const d=Hi(a,i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"})}const Bl=ds(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ht=10,_l=2e4;function zl(e){return Ps(e.type)||e.type==="spring"||!Ki(e.ease)}function Ul(e,t){const s=new Bs({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let o=0;for(;!n.done&&o<_l;)n=s.sample(o),i.push(n.value),o+=ht;return{times:void 0,keyframes:i,duration:o-ht,ease:"linear"}}const Nr={anticipate:rr,backInOut:ir,circInOut:ar};function $l(e){return e in Nr}class wn extends Sr{constructor(t){super(t);const{name:s,motionValue:n,element:i,keyframes:o}=this.options;this.resolver=new wr(o,(r,a)=>this.onKeyframesResolved(r,a),s,n,i),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:i,ease:o,type:r,motionValue:a,name:c,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&ct()&&$l(o)&&(o=Nr[o]),zl(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,element:x,...g}=this.options,b=Ul(t,g);t=b.keyframes,t.length===1&&(t[1]=t[0]),n=b.duration,i=b.times,o=b.ease,r="keyframes"}const d=Ol(a.owner.current,c,t,{...this.options,duration:n,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(rn(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(vt(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:r,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return oe(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return oe(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=re(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return X;const{animation:n}=s;rn(n,t)}return X}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:i,type:o,ease:r,times:a}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...p}=this.options,x=new Bs({...p,keyframes:n,duration:i,type:o,ease:r,times:a,isGenerator:!0}),g=re(this.time);u.setWithVelocity(x.sample(g-ht).value,x.sample(g).value,ht)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:o,damping:r,type:a}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return Bl()&&n&&Ll.has(n)&&!c&&!u&&!i&&o!=="mirror"&&r!==0&&a!=="inertia"}}const Wl={type:"spring",stiffness:500,damping:25,restSpeed:10},Gl=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Kl={type:"keyframes",duration:.8},Hl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ql=(e,{keyframes:t})=>t.length>2?Kl:ve.has(e)?e.startsWith("scale")?Gl(t[1]):Wl:Hl;function Yl({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const _s=(e,t,s,n={},i,o)=>r=>{const a=Cs(n,e)||{},c=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-re(c);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};Yl(a)||(d={...d,...ql(e,d)}),d.duration&&(d.duration=re(d.duration)),d.repeatDelay&&(d.repeatDelay=re(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const m=vt(d.keyframes,a);if(m!==void 0)return I.update(()=>{d.onUpdate(m),d.onComplete()}),new fa([])}return!o&&wn.supports(d)?new wn(d):new Bs(d)};function Xl({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Ar(e,t,{delay:s=0,transitionOverride:n,type:i}={}){var o;let{transition:r=e.getDefaultTransition(),transitionEnd:a,...c}=t;n&&(r=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const m=e.getValue(h,(o=e.latestValues[h])!==null&&o!==void 0?o:null),p=c[h];if(p===void 0||d&&Xl(d,h))continue;const x={delay:s,...Cs(r||{},h)};let g=!1;if(window.MotionHandoffAnimation){const y=Qi(e);if(y){const v=window.MotionHandoffAnimation(y,h,I);v!==null&&(x.startTime=v,g=!0)}}Gt(e,h),m.start(_s(h,m,p,e.shouldReduceMotion&&Zi.has(h)?{type:!1}:x,e,g));const b=m.animation;b&&u.push(b)}return a&&Promise.all(u).then(()=>{I.update(()=>{a&&Na(e,a)})}),u}function Jt(e,t,s={}){var n;const i=yt(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const r=i?()=>Promise.all(Ar(e,i,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=o;return Zl(e,t,d+u,h,m,s)}:()=>Promise.resolve(),{when:c}=o;if(c){const[u,d]=c==="beforeChildren"?[r,a]:[a,r];return u().then(()=>d())}else return Promise.all([r(),a(s.delay)])}function Zl(e,t,s=0,n=0,i=1,o){const r=[],a=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(Jl).forEach((u,d)=>{u.notify("AnimationStart",t),r.push(Jt(u,t,{...o,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(r)}function Jl(e,t){return e.sortNodePosition(t)}function Ql(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>Jt(e,o,s));n=Promise.all(i)}else if(typeof t=="string")n=Jt(e,t,s);else{const i=typeof t=="function"?yt(e,t,s.custom):t;n=Promise.all(Ar(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const ec=ms.length;function Er(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Er(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<ec;s++){const n=ms[s],i=e.props[n];($e(i)||i===!1)&&(t[n]=i)}return t}const tc=[...hs].reverse(),sc=hs.length;function nc(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Ql(e,s,n)))}function ic(e){let t=nc(e),s=Sn(),n=!0;const i=c=>(u,d)=>{var h;const m=yt(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:x,...g}=m;u={...u,...g,...x}}return u};function o(c){t=c(e)}function r(c){const{props:u}=e,d=Er(e.parent)||{},h=[],m=new Set;let p={},x=1/0;for(let b=0;b<sc;b++){const y=tc[b],v=s[y],S=u[y]!==void 0?u[y]:d[y],T=$e(S),w=y===c?v.isActive:null;w===!1&&(x=b);let A=S===d[y]&&S!==u[y]&&T;if(A&&n&&e.manuallyAnimateOnMount&&(A=!1),v.protectedKeys={...p},!v.isActive&&w===null||!S&&!v.prevProp||gt(S)||typeof S=="boolean")continue;const M=rc(v.prevProp,S);let P=M||y===c&&v.isActive&&!A&&T||b>x&&T,D=!1;const k=Array.isArray(S)?S:[S];let R=k.reduce(i(y),{});w===!1&&(R={});const{prevResolvedValues:B={}}=v,E={...B,...R},V=L=>{P=!0,m.has(L)&&(D=!0,m.delete(L)),v.needsAnimating[L]=!0;const G=e.getValue(L);G&&(G.liveStyle=!1)};for(const L in E){const G=R[L],Y=B[L];if(p.hasOwnProperty(L))continue;let te=!1;Ut(G)&&Ut(Y)?te=!$i(G,Y):te=G!==Y,te?G!=null?V(L):m.add(L):G!==void 0&&m.has(L)?V(L):v.protectedKeys[L]=!0}v.prevProp=S,v.prevResolvedValues=R,v.isActive&&(p={...p,...R}),n&&e.blockInitialAnimation&&(P=!1),P&&(!(A&&M)||D)&&h.push(...k.map(L=>({animation:L,options:{type:y}})))}if(m.size){const b={};m.forEach(y=>{const v=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),b[y]=v??null}),h.push({animation:b})}let g=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}function a(c,u){var d;if(s[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),s[c].isActive=u;const h=r(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>s,reset:()=>{s=Sn(),n=!0}}}function rc(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$i(t,e):!1}function me(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sn(){return{animate:me(!0),whileInView:me(),whileHover:me(),whileTap:me(),whileDrag:me(),whileFocus:me(),exit:me()}}class he{constructor(t){this.isMounted=!1,this.node=t}update(){}}class oc extends he{constructor(t){super(t),t.animationState||(t.animationState=ic(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ac=0;class lc extends he{constructor(){super(...arguments),this.id=ac++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const cc={animation:{Feature:oc},exit:{Feature:lc}};function He(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function Je(e){return{point:{x:e.pageX,y:e.pageY}}}const uc=e=>t=>Ns(t)&&e(t,Je(t));function Be(e,t,s,n){return He(e,t,uc(s),n)}const Tn=(e,t)=>Math.abs(e-t);function dc(e,t){const s=Tn(e.x,t.x),n=Tn(e.y,t.y);return Math.sqrt(s**2+n**2)}class Mr{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Rt(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=dc(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:x}=h,{timestamp:g}=$;this.history.push({...x,timestamp:g});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Mt(m,this.transformPagePoint),I.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Rt(h.type==="pointercancel"?this.lastMoveEventInfo:Mt(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),x&&x(h,b)},!Ns(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const r=Je(t),a=Mt(r,this.transformPagePoint),{point:c}=a,{timestamp:u}=$;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Rt(a,this.history)),this.removeListeners=Ze(Be(this.contextWindow,"pointermove",this.handlePointerMove),Be(this.contextWindow,"pointerup",this.handlePointerUp),Be(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ue(this.updatePoint)}}function Mt(e,t){return t?{point:t(e.point)}:e}function jn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rt({point:e},t){return{point:e,delta:jn(e,Rr(t)),offset:jn(e,hc(t)),velocity:mc(t,.1)}}function hc(e){return e[0]}function Rr(e){return e[e.length-1]}function mc(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=Rr(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>re(t)));)s--;if(!n)return{x:0,y:0};const o=oe(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}const Dr=1e-4,fc=1-Dr,pc=1+Dr,Vr=.01,gc=0-Vr,xc=0+Vr;function Z(e){return e.max-e.min}function yc(e,t,s){return Math.abs(e-t)<=s}function Cn(e,t,s,n=.5){e.origin=n,e.originPoint=O(t.min,t.max,e.origin),e.scale=Z(s)/Z(t),e.translate=O(s.min,s.max,e.origin)-e.originPoint,(e.scale>=fc&&e.scale<=pc||isNaN(e.scale))&&(e.scale=1),(e.translate>=gc&&e.translate<=xc||isNaN(e.translate))&&(e.translate=0)}function _e(e,t,s,n){Cn(e.x,t.x,s.x,n?n.originX:void 0),Cn(e.y,t.y,s.y,n?n.originY:void 0)}function Pn(e,t,s){e.min=s.min+t.min,e.max=e.min+Z(t)}function vc(e,t,s){Pn(e.x,t.x,s.x),Pn(e.y,t.y,s.y)}function kn(e,t,s){e.min=t.min-s.min,e.max=e.min+Z(t)}function ze(e,t,s){kn(e.x,t.x,s.x),kn(e.y,t.y,s.y)}function bc(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?O(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?O(s,e,n.max):Math.min(e,s)),e}function Nn(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function wc(e,{top:t,left:s,bottom:n,right:i}){return{x:Nn(e.x,s,i),y:Nn(e.y,t,n)}}function An(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function Sc(e,t){return{x:An(e.x,t.x),y:An(e.y,t.y)}}function Tc(e,t){let s=.5;const n=Z(e),i=Z(t);return i>n?s=ke(t.min,t.max-n,e.min):n>i&&(s=ke(e.min,e.max-i,t.min)),ae(0,1,s)}function jc(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Qt=.35;function Cc(e=Qt){return e===!1?e=0:e===!0&&(e=Qt),{x:En(e,"left","right"),y:En(e,"top","bottom")}}function En(e,t,s){return{min:Mn(e,t),max:Mn(e,s)}}function Mn(e,t){return typeof e=="number"?e:e[t]||0}const Rn=()=>({translate:0,scale:1,origin:0,originPoint:0}),Te=()=>({x:Rn(),y:Rn()}),Dn=()=>({min:0,max:0}),z=()=>({x:Dn(),y:Dn()});function Q(e){return[e("x"),e("y")]}function Ir({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function Pc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kc(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Dt(e){return e===void 0||e===1}function es({scale:e,scaleX:t,scaleY:s}){return!Dt(e)||!Dt(t)||!Dt(s)}function pe(e){return es(e)||Fr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Fr(e){return Vn(e.x)||Vn(e.y)}function Vn(e){return e&&e!=="0%"}function mt(e,t,s){const n=e-s,i=t*n;return s+i}function In(e,t,s,n,i){return i!==void 0&&(e=mt(e,i,n)),mt(e,s,n)+t}function ts(e,t=0,s=1,n,i){e.min=In(e.min,t,s,n,i),e.max=In(e.max,t,s,n,i)}function Lr(e,{x:t,y:s}){ts(e.x,t.translate,t.scale,t.originPoint),ts(e.y,s.translate,s.scale,s.originPoint)}const Fn=.999999999999,Ln=1.0000000000001;function Nc(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=s[a],r=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ce(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,Lr(e,r)),n&&pe(o.latestValues)&&Ce(e,o.latestValues))}t.x<Ln&&t.x>Fn&&(t.x=1),t.y<Ln&&t.y>Fn&&(t.y=1)}function je(e,t){e.min=e.min+t,e.max=e.max+t}function On(e,t,s,n,i=.5){const o=O(e.min,e.max,i);ts(e,t,s,o,n)}function Ce(e,t){On(e.x,t.x,t.scaleX,t.scale,t.originX),On(e.y,t.y,t.scaleY,t.scale,t.originY)}function Or(e,t){return Ir(kc(e.getBoundingClientRect(),t))}function Ac(e,t,s){const n=Or(e,s),{scroll:i}=t;return i&&(je(n.x,i.offset.x),je(n.y,i.offset.y)),n}const Br=({current:e})=>e?e.ownerDocument.defaultView:null,Ec=new WeakMap;class Mc{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=z(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Je(d).point)},o=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ta(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Q(b=>{let y=this.getAxisMotionValue(b).get()||0;if(se.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const S=v.layout.layoutBox[b];S&&(y=Z(S)*(parseFloat(y)/100))}}this.originPoint[b]=y}),x&&I.postRender(()=>x(d,h)),Gt(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},r=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=Rc(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),c=()=>Q(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Mr(t,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Br(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&I.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!nt(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(r=bc(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&we(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=wc(i.layoutBox,s):this.constraints=!1,this.elastic=Cc(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Q(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=jc(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!we(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Ac(n,i.root,this.visualElement.getTransformPagePoint());let r=Sc(i.layout.layoutBox,o);if(s){const a=s(Pc(r));this.hasMutatedConstraints=!!a,a&&(r=Ir(a))}return r}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Q(d=>{if(!nt(d,s,this.currentDirection))return;let h=c&&c[d]||{};r&&(h={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Gt(this.visualElement,t),n.start(_s(t,n,0,s,this.visualElement,!1))}stopAnimation(){Q(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Q(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Q(s=>{const{drag:n}=this.getProps();if(!nt(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[s];o.set(t[s]-O(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!we(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Q(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();i[r]=Tc({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Q(r=>{if(!nt(r,t,null))return;const a=this.getAxisMotionValue(r),{min:c,max:u}=this.constraints[r];a.set(O(c,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;Ec.set(this.visualElement,this);const t=this.visualElement.current,s=Be(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();we(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),I.read(n);const r=He(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Q(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())}));return()=>{r(),s(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=Qt,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function nt(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Rc(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Dc extends he{constructor(t){super(t),this.removeGroupControls=X,this.removeListeners=X,this.controls=new Mc(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||X}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bn=e=>(t,s)=>{e&&I.postRender(()=>e(t,s))};class Vc extends he{constructor(){super(...arguments),this.removePointerDownListener=X}onPointerDown(t){this.session=new Mr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Br(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Bn(t),onStart:Bn(s),onMove:n,onEnd:(o,r)=>{delete this.session,i&&I.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=Be(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ot={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _n(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const De={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(N.test(e))e=parseFloat(e);else return e;const s=_n(e,t.target.x),n=_n(e,t.target.y);return`${s}% ${n}%`}},Ic={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=de.parse(e);if(i.length>5)return n;const o=de.createTransformer(e),r=typeof i[0]!="number"?1:0,a=s.x.scale*t.x,c=s.y.scale*t.y;i[0+r]/=a,i[1+r]/=c;const u=O(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}};class Fc extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;sa(Lc),o&&(s.group&&s.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ot.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:o}=this.props,r=n.projection;return r&&(r.isPresent=o,i||t.layoutDependency!==s||s===void 0?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||I.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ps.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _r(e){const[t,s]=Si(),n=f.useContext(as);return l.jsx(Fc,{...e,layoutGroup:n,switchLayoutGroup:f.useContext(Ei),isPresent:t,safeToRemove:s})}const Lc={borderRadius:{...De,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomLeftRadius:De,borderBottomRightRadius:De,boxShadow:Ic};function Oc(e,t,s){const n=H(e)?e:Ge(e);return n.start(_s("",n,t,s)),n.animation}function Bc(e){return e instanceof SVGElement&&e.tagName!=="svg"}const _c=(e,t)=>e.depth-t.depth;class zc{constructor(){this.children=[],this.isDirty=!1}add(t){As(this.children,t),this.isDirty=!0}remove(t){Es(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_c),this.isDirty=!1,this.children.forEach(t)}}function Uc(e,t){const s=ne.now(),n=({timestamp:i})=>{const o=i-s;o>=t&&(ue(n),e(o-t))};return I.read(n,!0),()=>ue(n)}const zr=["TopLeft","TopRight","BottomLeft","BottomRight"],$c=zr.length,zn=e=>typeof e=="string"?parseFloat(e):e,Un=e=>typeof e=="number"||N.test(e);function Wc(e,t,s,n,i,o){i?(e.opacity=O(0,s.opacity!==void 0?s.opacity:1,Gc(n)),e.opacityExit=O(t.opacity!==void 0?t.opacity:1,0,Kc(n))):o&&(e.opacity=O(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let r=0;r<$c;r++){const a=`border${zr[r]}Radius`;let c=$n(t,a),u=$n(s,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Un(c)===Un(u)?(e[a]=Math.max(O(zn(c),zn(u),n),0),(se.test(u)||se.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||s.rotate)&&(e.rotate=O(t.rotate||0,s.rotate||0,n))}function $n(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Gc=Ur(0,.5,or),Kc=Ur(.5,.95,X);function Ur(e,t,s){return n=>n<e?0:n>t?1:s(ke(e,t,n))}function Wn(e,t){e.min=t.min,e.max=t.max}function J(e,t){Wn(e.x,t.x),Wn(e.y,t.y)}function Gn(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Kn(e,t,s,n,i){return e-=t,e=mt(e,1/s,n),i!==void 0&&(e=mt(e,1/i,n)),e}function Hc(e,t=0,s=1,n=.5,i,o=e,r=e){if(se.test(t)&&(t=parseFloat(t),t=O(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=O(o.min,o.max,n);e===o&&(a-=t),e.min=Kn(e.min,t,s,a,i),e.max=Kn(e.max,t,s,a,i)}function Hn(e,t,[s,n,i],o,r){Hc(e,t[s],t[n],t[i],t.scale,o,r)}const qc=["x","scaleX","originX"],Yc=["y","scaleY","originY"];function qn(e,t,s,n){Hn(e.x,t,qc,s?s.x:void 0,n?n.x:void 0),Hn(e.y,t,Yc,s?s.y:void 0,n?n.y:void 0)}function Yn(e){return e.translate===0&&e.scale===1}function $r(e){return Yn(e.x)&&Yn(e.y)}function Xn(e,t){return e.min===t.min&&e.max===t.max}function Xc(e,t){return Xn(e.x,t.x)&&Xn(e.y,t.y)}function Zn(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Wr(e,t){return Zn(e.x,t.x)&&Zn(e.y,t.y)}function Jn(e){return Z(e.x)/Z(e.y)}function Qn(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Zc{constructor(){this.members=[]}add(t){As(this.members,t),t.scheduleRender()}remove(t){if(Es(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jc(e,t,s){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(s==null?void 0:s.z)||0;if((i||o||r)&&(n=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:x}=s;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),x&&(n+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const ge={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Le=typeof window<"u"&&window.MotionDebug!==void 0,Vt=["","X","Y","Z"],Qc={visibility:"hidden"},ei=1e3;let eu=0;function It(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Gr(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Qi(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",I,!(i||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Gr(n)}function Kr({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=eu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Le&&(ge.totalNodes=ge.resolvedTargetDeltas=ge.recalculatedProjection=0),this.nodes.forEach(nu),this.nodes.forEach(lu),this.nodes.forEach(cu),this.nodes.forEach(iu),Le&&window.MotionDebug.record(ge)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new zc)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Ms),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Bc(r),this.instance=r;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(r,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Uc(m,250),ot.hasAnimatedSinceResize&&(ot.hasAnimatedSinceResize=!1,this.nodes.forEach(si))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||fu,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!Wr(this.targetLayout,x)||p,S=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const T={...Cs(g,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else m||si(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ue(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uu),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gr(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ti);return}this.isUpdating||this.nodes.forEach(ou),this.isUpdating=!1,this.nodes.forEach(au),this.nodes.forEach(tu),this.nodes.forEach(su),this.clearAllSnapshots();const a=ne.now();$.delta=ae(0,1e3/60,a-$.timestamp),$.timestamp=a,$.isProcessing=!0,Ct.update.process($),Ct.preRender.process($),Ct.render.process($),$.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ps.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ru),this.sharedNodes.forEach(du)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,I.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){I.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=z(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$r(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;r&&(a||pe(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),pu(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var r;const{visualElement:a}=this.options;if(!a)return z();const c=a.measureViewportBox();if(!(((r=this.scroll)===null||r===void 0?void 0:r.wasRoot)||this.path.some(gu))){const{scroll:d}=this.root;d&&(je(c.x,d.offset.x),je(c.y,d.offset.y))}return c}removeElementScroll(r){var a;const c=z();if(J(c,r),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&J(c,r),je(c.x,h.offset.x),je(c.y,h.offset.y))}return c}applyTransform(r,a=!1){const c=z();J(c,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ce(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pe(d.latestValues)&&Ce(c,d.latestValues)}return pe(this.latestValues)&&Ce(c,this.latestValues),c}removeTransform(r){const a=z();J(a,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!pe(u.latestValues))continue;es(u.latestValues)&&u.updateSnapshot();const d=z(),h=u.measurePageBox();J(d,h),qn(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return pe(this.latestValues)&&qn(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(r||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=$.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=z(),this.relativeTargetOrigin=z(),ze(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),J(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=z(),this.targetWithTransforms=z()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vc(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):J(this.target,this.layout.layoutBox),Lr(this.target,this.targetDelta)):J(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=z(),this.relativeTargetOrigin=z(),ze(this.relativeTargetOrigin,this.target,p.target),J(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Le&&ge.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||es(this.parent.latestValues)||Fr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var r;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;J(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Nc(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=z());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gn(this.prevProjectionDelta.x,this.projectionDelta.x),Gn(this.prevProjectionDelta.y,this.projectionDelta.y)),_e(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!Qn(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qn(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Le&&ge.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Te(),this.projectionDelta=Te(),this.projectionDeltaWithTransform=Te()}setAnimationOrigin(r,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Te();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=z(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,b=this.getStack(),y=!b||b.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(mu));this.animationProgress=0;let S;this.mixTargetDelta=T=>{const w=T/1e3;ni(h.x,r.x,w),ni(h.y,r.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ze(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hu(this.relativeTarget,this.relativeTargetOrigin,m,w),S&&Xc(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=z()),J(S,this.relativeTarget)),g&&(this.animationValues=d,Wc(d,u,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ue(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=I.update(()=>{ot.hasAnimatedSinceResize=!0,this.currentAnimation=Oc(0,ei,{...r,onUpdate:a=>{this.mixTargetDelta(a),r.onUpdate&&r.onUpdate(a)},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ei),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=r;if(!(!a||!c||!u)){if(this!==r&&this.layout&&u&&Hr(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||z();const h=Z(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+h;const m=Z(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+m}J(a,c),Ce(a,d),_e(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Zc),this.sharedNodes.get(r).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var r;const{layoutId:a}=this.options;return a?((r=this.getStack())===null||r===void 0?void 0:r.lead)||this:this}getPrevLead(){var r;const{layoutId:a}=this.options;return a?(r=this.getStack())===null||r===void 0?void 0:r.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&It("z",r,u,this.animationValues);for(let d=0;d<Vt.length;d++)It(`rotate${Vt[d]}`,r,u,this.animationValues),It(`skew${Vt[d]}`,r,u,this.animationValues);r.render();for(const d in u)r.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);r.scheduleRender()}getProjectionStyles(r){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qc;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=it(r==null?void 0:r.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=it(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!pe(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Jc(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in lt){if(m[g]===void 0)continue;const{correct:b,applyTo:y}=lt[g],v=u.transform==="none"?m[g]:b(m[g],h);if(y){const S=y.length;for(let T=0;T<S;T++)u[y[T]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=h===this?it(r==null?void 0:r.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ti),this.root.sharedNodes.clear()}}}function tu(e){e.updateLayout()}function su(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,r=s.source!==e.layout.source;o==="size"?Q(h=>{const m=r?s.measuredBox[h]:s.layoutBox[h],p=Z(m);m.min=n[h].min,m.max=m.min+p}):Hr(o,s.layoutBox,n)&&Q(h=>{const m=r?s.measuredBox[h]:s.layoutBox[h],p=Z(n[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Te();_e(a,n,s.layoutBox);const c=Te();r?_e(c,e.applyTransform(i,!0),s.measuredBox):_e(c,n,s.layoutBox);const u=!$r(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const x=z();ze(x,s.layoutBox,m.layoutBox);const g=z();ze(g,n,p.layoutBox),Wr(x,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function nu(e){Le&&ge.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ru(e){e.clearSnapshot()}function ti(e){e.clearMeasurements()}function ou(e){e.isLayoutDirty=!1}function au(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function si(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lu(e){e.resolveTargetDelta()}function cu(e){e.calcProjection()}function uu(e){e.resetSkewAndRotation()}function du(e){e.removeLeadSnapshot()}function ni(e,t,s){e.translate=O(t.translate,0,s),e.scale=O(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ii(e,t,s,n){e.min=O(t.min,s.min,n),e.max=O(t.max,s.max,n)}function hu(e,t,s,n){ii(e.x,t.x,s.x,n),ii(e.y,t.y,s.y,n)}function mu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const fu={duration:.45,ease:[.4,0,.1,1]},ri=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oi=ri("applewebkit/")&&!ri("chrome/")?Math.round:X;function ai(e){e.min=oi(e.min),e.max=oi(e.max)}function pu(e){ai(e.x),ai(e.y)}function Hr(e,t,s){return e==="position"||e==="preserve-aspect"&&!yc(Jn(t),Jn(s),.2)}function gu(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const xu=Kr({attachResizeListener:(e,t)=>He(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ft={current:void 0},qr=Kr({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ft.current){const e=new xu({});e.mount(window),e.setOptions({layoutScroll:!0}),Ft.current=e}return Ft.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yu={pan:{Feature:Vc},drag:{Feature:Dc,ProjectionNode:qr,MeasureLayout:_r}};function li(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=n[i];o&&I.postRender(()=>o(t,Je(t)))}class vu extends he{mount(){const{current:t}=this.node;t&&(this.unmount=ya(t,s=>(li(this.node,s,"Start"),n=>li(this.node,n,"End"))))}unmount(){}}class bu extends he{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ze(He(this.node.current,"focus",()=>this.onFocus()),He(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ci(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=n[i];o&&I.postRender(()=>o(t,Je(t)))}class wu extends he{mount(){const{current:t}=this.node;t&&(this.unmount=Sa(t,s=>(ci(this.node,s,"Start"),(n,{success:i})=>ci(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ss=new WeakMap,Lt=new WeakMap,Su=e=>{const t=ss.get(e.target);t&&t(e)},Tu=e=>{e.forEach(Su)};function ju({root:e,...t}){const s=e||document;Lt.has(s)||Lt.set(s,{});const n=Lt.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Tu,{root:e,...t})),n[i]}function Cu(e,t,s){const n=ju(t);return ss.set(e,s),n.observe(e),()=>{ss.delete(e),n.unobserve(e)}}const Pu={some:0,all:1};class ku extends he{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:o}=t,r={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Pu[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return Cu(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Nu(t,s))&&this.startObserver()}unmount(){}}function Nu({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Au={inView:{Feature:ku},tap:{Feature:wu},focus:{Feature:bu},hover:{Feature:vu}},Eu={layout:{ProjectionNode:qr,MeasureLayout:_r}},ns={current:null},Yr={current:!1};function Mu(){if(Yr.current=!0,!!us)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ns.current=e.matches;e.addListener(t),t()}else ns.current=!1}const Ru=[...br,K,de],Du=e=>Ru.find(vr(e)),ui=new WeakMap;function Vu(e,t,s){for(const n in t){const i=t[n],o=s[n];if(H(i))e.addValue(n,i);else if(H(o))e.addValue(n,Ge(i,{owner:e}));else if(o!==i)if(e.hasValue(n)){const r=e.getValue(n);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(n);e.addValue(n,Ge(r!==void 0?r:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const di=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Iu{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ls,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ne.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,I.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=r;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=xt(s),this.isVariantNode=Ni(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const p in m){const x=m[p];c[p]!==void 0&&H(x)&&x.set(c[p],!1)}}mount(t){this.current=t,ui.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Yr.current||Mu(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ns.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ui.delete(this.current),this.projection&&this.projection.unmount(),ue(this.notifyUpdate),ue(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ve.has(t),i=s.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&I.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),o(),r&&r(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ne){const s=Ne[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):z()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<di.length;n++){const i=di[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=Vu(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Ge(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(xr(i)||lr(i))?i=parseFloat(i):!Du(i)&&de.test(s)&&(i=fr(t,s)),this.setBaseTarget(t,H(i)?i.get():i)),H(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=xs(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);r&&(i=r[t])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!H(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Ms),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Xr extends Iu{constructor(){super(...arguments),this.KeyframeResolver=wr}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;H(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Fu(e){return window.getComputedStyle(e)}class Lu extends Xr{constructor(){super(...arguments),this.type="html",this.renderInstance=Li}readValueFromInstance(t,s){if(ve.has(s)){const n=Fs(s);return n&&n.default||0}else{const n=Fu(t),i=(Vi(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Or(t,s)}build(t,s,n){bs(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return js(t,s,n)}}class Ou extends Xr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=z}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ve.has(s)){const n=Fs(s);return n&&n.default||0}return s=Oi.has(s)?s:fs(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return zi(t,s,n)}build(t,s,n){ws(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,i){Bi(t,s,n,i)}mount(t){this.isSVGTag=Ts(t.tagName),super.mount(t)}}const Bu=(e,t)=>gs(e)?new Ou(t):new Lu(t,{allowProjection:e!==f.Fragment}),_u=da({...cc,...Au,...yu,...Eu},Bu),C=Po(_u),is=[{id:"first-job",label:"First Job",emoji:"",ageRange:"2225",description:"Starting your career journey",order:1,color:"#0066B2"},{id:"marriage",label:"Marriage",emoji:"",ageRange:"2530",description:"Building a life together",order:2,color:"#0066B2"},{id:"parenthood",label:"Parenthood",emoji:"",ageRange:"3035",description:"Welcoming a new life",order:3,color:"#0066B2"},{id:"mid-career",label:"Mid-Career",emoji:"",ageRange:"3550",description:"Peak responsibilities",order:4,color:"#0066B2"},{id:"retirement",label:"Approaching Retirement",emoji:"",ageRange:"5560",description:"Securing your golden years",order:5,color:"#0066B2"}],zu=5,le={LOW:{max:35,label:"Low Protection",color:"#EF4444"},MEDIUM:{max:70,label:"Medium Protection",color:"#FF8C00"},HIGH:{label:"High Protection",color:"#10B981"}},Ot=50,hi={EXPOSED:"exposed"},F={INTRO:"intro",STAGE_SELECTION:"stage_selection",RACING:"racing",EVENT_FEEDBACK:"event_feedback",FINISH:"finish",SCORE_REVEAL:"score_reveal",TIMELINE:"timeline",CONVERSION:"conversion",LEAD_FORM:"lead_form",THANK_YOU:"thank_you"},Uu=[{id:"fj-01",stage:"first-job",title:"Medical Emergency & Hospitalization",severity:"high",description:"Sudden illness requires hospitalization. Employer cover is minimal or absent.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-02",stage:"first-job",title:"Job Loss or Income Interruption",severity:"high",description:"Unexpected job loss. EMIs and monthly expenses continue but income stops.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-03",stage:"first-job",title:"Family Dependency - Death of Earning Member",severity:"high",description:"Loss of parent impacts family. Your income becomes critical for family support.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-04",stage:"first-job",title:"Temporary Disability Due to Accident",severity:"high",description:"Accident leaves you temporarily unable to work. Income loss for weeks/months.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-05",stage:"first-job",title:"Down Payment for Dream Home",severity:"medium",description:"Need to save for home down payment while managing monthly expenses.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-01",stage:"marriage",title:"Medical Emergency of One Spouse",severity:"high",description:"Spouse hospitalized with high medical bills. Employer cover is limited.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-02",stage:"marriage",title:"Accidental Death of One Spouse",severity:"high",description:"Loss of spouse disrupts lifestyle and creates financial liabilities.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-03",stage:"marriage",title:"Critical Illness of Earning Spouse",severity:"high",description:"Cancer, heart disease diagnosed. Treatment costs + recovery period affects income.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-04",stage:"marriage",title:"Job Loss of One Spouse",severity:"high",description:"One spouse loses job. Household depends entirely on one income.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-05",stage:"marriage",title:"Disability Due to Accident",severity:"high",description:"Accident disables spouse long-term. Medical care + lost income creates crisis.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-01",stage:"parenthood",title:"Child Education Needs",severity:"medium",description:"Need funds for school admission, board, and ongoing education costs.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-02",stage:"parenthood",title:"Death of Earning Parent",severity:"high",description:"Loss of parent threatens child's education and family's future security.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-03",stage:"parenthood",title:"Medical Emergency - Self/Spouse/Child",severity:"high",description:"Health crisis in family. High hospitalization costs and time off work.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-04",stage:"parenthood",title:"Critical Illness of Earning Parent",severity:"high",description:"Cancer, heart disease diagnosed. Goals and income both at risk.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-05",stage:"parenthood",title:"Permanent Disability Due to Accident",severity:"high",description:"Accident causes long-term disability. Family's future income security threatened.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-01",stage:"mid-career",title:"Job Loss or Business Income Disruption",severity:"high",description:"Sudden job loss or business crisis. Re-employment risk is high in competitive market.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-02",stage:"mid-career",title:"Parental Care Needs",severity:"high",description:"Parent requires medical care and financial support. Ongoing expenses and time commitment.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-03",stage:"mid-career",title:"Critical Illness - Peak Risk Phase",severity:"high",description:"Cancer, heart disease, stroke diagnosed. High treatment costs and long recovery.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-04",stage:"mid-career",title:"Death of Earning Member",severity:"high",description:"Loss of you exposes multiple dependents and liabilities. Family lifestyle disrupted.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-05",stage:"mid-career",title:"Investment Loss - Market Downturn",severity:"medium",description:"Market crash affects investments. Retirement plans delayed.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-01",stage:"retirement",title:"Loss of Regular Income",severity:"high",description:"Retirement means end of regular salary. Income sources become critical.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-02",stage:"retirement",title:"Longevity Risk - Outliving Savings",severity:"high",description:"Living longer than planned. Savings need to last 30-40 years in retirement.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-03",stage:"retirement",title:"Healthcare Inflation",severity:"high",description:"Medical costs rise faster than expected. Inflation erodes purchasing power.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-04",stage:"retirement",title:"Legacy Planning - Inheritance Needs",severity:"medium",description:"Need to leave inheritance for family. Estate planning becomes critical.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-05",stage:"retirement",title:"Critical Health Crisis in Retirement",severity:"high",description:"Major health issue in retirement. No employer cover. High out-of-pocket costs.",impactProtected:10,impactExposed:-10,icon:""}];function Zr(e){return Math.max(0,Math.min(100,e))}function $u(e,t,s,n){let i=t;if(s&&n>1){const r=1+(n-1)*.25;i=Math.round(t*r)}return{newScore:Zr(e+i),appliedDelta:i}}function Wu(e){return e<=le.LOW.max?{label:le.LOW.label,color:le.LOW.color,key:"LOW"}:e<=le.MEDIUM.max?{label:le.MEDIUM.label,color:le.MEDIUM.color,key:"MEDIUM"}:{label:le.HIGH.label,color:le.HIGH.color,key:"HIGH"}}function Gu(e){return Zr(Math.round(e))}function Ku(e){return e.filter(t=>t.decision==="exposed").map(t=>`${t.stage}: ${t.title} (${t.severity})`)}function Hu(e){return e==="high"}function qu(e){return{high:"Critical",medium:"Significant",moderate:"Moderate"}[e]??"Unknown"}function Yu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Xu(e){const t=[...e];for(let s=t.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[t[s],t[n]]=[t[n],t[s]]}return t}function Zu(e){const t=Uu.filter(n=>n.stage===e);return Xu(t).slice(0,zu)}function Ju(){const[e,t]=f.useState(""),[s,n]=f.useState(F.INTRO),[i,o]=f.useState(Ot),[r,a]=f.useState(null),[c,u]=f.useState([]),[d,h]=f.useState(0),[m,p]=f.useState([]),[x,g]=f.useState(null),[b,y]=f.useState(!1),[v,S]=f.useState(""),T=f.useRef(0),w=f.useMemo(()=>c[d]??null,[c,d]),A=f.useMemo(()=>d>=c.length-1,[d,c.length]),M=f.useMemo(()=>Wu(i),[i]),P=f.useMemo(()=>Gu(i),[i]),D=f.useMemo(()=>Ku(m),[m]),k=f.useMemo(()=>c.length===0?0:Math.round((d+1)/c.length*100),[d,c.length]),R=f.useMemo(()=>r?is.find(q=>q.id===r)??null:null,[r]),B=f.useCallback(()=>{n(F.STAGE_SELECTION)},[]),E=f.useCallback(q=>{const be=Yu(),St=Zu(q);t(be),a(q),u(St),h(0),o(Ot),p([]),g(null),S(""),T.current=0,n(F.RACING),y(!0)},[]),V=f.useCallback(q=>{if(!w)return;y(!1);const be=q===hi.EXPOSED,St=be?w.impactExposed:w.impactProtected,Hs=be&&Hu(w.severity);Hs?T.current+=1:T.current=0;const{newScore:qs,appliedDelta:Ys}=$u(i,St,Hs,T.current),Tt=is.find(jt=>jt.id===w.stage),mo={eventId:w.id,stage:(Tt==null?void 0:Tt.label)??w.stage,stageId:w.stage,title:w.title,severity:w.severity,decision:q,scoreDelta:Ys,scoreAfter:qs};o(qs),p(jt=>[...jt,mo]),g({decision:q,delta:Ys,severity:w.severity,title:w.title}),n(F.EVENT_FEEDBACK)},[w,i]),U=f.useCallback(()=>{V(hi.EXPOSED)},[V]),ie=f.useCallback(()=>{if(A){y(!1),n(F.FINISH);return}h(q=>q+1),g(null),n(F.RACING),y(!0)},[A]),L=f.useCallback(()=>{n(F.SCORE_REVEAL)},[]),G=f.useCallback(()=>{n(F.TIMELINE)},[]),Y=f.useCallback(()=>{n(F.CONVERSION)},[]),te=f.useCallback(()=>{n(F.LEAD_FORM)},[]),Qe=f.useCallback(q=>{q&&S(q),n(F.THANK_YOU)},[]),wt=f.useCallback(()=>{t(""),n(F.INTRO),o(Ot),a(null),u([]),h(0),p([]),g(null),y(!1),S(""),T.current=0},[]);return{gameId:e,phase:s,score:i,selectedStage:r,selectedStageData:R,currentEvent:w,currentEventIndex:d,eventQueue:c,timeline:m,lastFeedback:x,isTimerActive:b,isLastEvent:A,protectionCategory:M,finalScore:P,riskGaps:D,progressPercent:k,userName:v,startGame:B,selectStage:E,makeDecision:V,handleTimerExpire:U,advanceToNextEvent:ie,showScoreReveal:L,showTimeline:G,showConversion:Y,showLeadForm:te,showThankYou:Qe,restartGame:wt}}function Qu(e,t,s){const[n,i]=f.useState(e),o=f.useRef(null),r=f.useRef(t),a=f.useRef(!1);f.useEffect(()=>{r.current=t},[t]);const c=f.useCallback(()=>{o.current&&(clearInterval(o.current),o.current=null)},[]),u=f.useCallback(()=>{c()},[c]),d=f.useCallback(()=>{c(),a.current=!1,i(e)},[c,e]);f.useEffect(()=>{if(!s){c();return}return a.current=!1,i(e),o.current=setInterval(()=>{i(m=>{const p=m-1;return p<=0&&!a.current?(a.current=!0,clearInterval(o.current),o.current=null,setTimeout(()=>{var x;(x=r.current)==null||x.call(r)},0),0):p})},1e3),c},[s,e,c]),f.useEffect(()=>c,[c]);const h=n/e*100;return{timeLeft:n,resetTimer:d,stopTimer:u,progress:h}}var Bt={exports:{}},_t,mi;function ed(){if(mi)return _t;mi=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _t=e,_t}var zt,fi;function td(){if(fi)return zt;fi=1;var e=ed();function t(){}function s(){}return s.resetWarningCache=t,zt=function(){function n(r,a,c,u,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:t};return o.PropTypes=o,o},zt}var pi;function sd(){return pi||(pi=1,Bt.exports=td()()),Bt.exports}var nd=sd();const j=fo(nd),zs=f.memo(function({children:t,className:s="",fullScreen:n=!1}){return l.jsxs("div",{className:`race-container ${s}`,children:[!n&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":"true",children:[l.jsx("div",{className:"absolute top-[10%] left-[15%] w-[20rem] h-[20rem] bg-bajaj-blue/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-[15%] right-[10%] w-[25rem] h-[25rem] bg-bajaj-orange/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute top-[50%] left-[60%] w-[15rem] h-[15rem] bg-race-accent/5 rounded-full blur-3xl"})]}),l.jsx("div",{className:`relative z-10 w-full min-h-[100dvh] flex flex-col ${n?"":"max-w-md mx-auto px-4 py-6 items-center justify-center"}`,children:t})]})});zs.displayName="RaceLayout";zs.propTypes={children:j.node.isRequired,className:j.string,fullScreen:j.bool};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jr=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:r,...a},c)=>f.createElement("svg",{ref:c,...rd,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:Jr("lucide",i),...a},[...r.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(e,t)=>{const s=f.forwardRef(({className:n,...i},o)=>f.createElement(od,{ref:o,iconNode:t,className:Jr(`lucide-${id(e)}`,n),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=W("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=W("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=W("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=W("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=W("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=W("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=W("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yi={primary:"race-button-primary",secondary:"race-button-secondary",protected:"race-button-protected",exposed:"race-button-exposed",ghost:"inline-flex items-center justify-center gap-2 rounded-xl px-6 py-3 font-semibold text-race-muted hover:text-white transition-colors duration-300 focus:outline-none"},vi={sm:"text-[0.875rem] px-4 py-2",md:"text-[1rem] px-6 py-3",lg:"text-[1.125rem] px-8 py-4"},Re=f.memo(f.forwardRef(function({variant:t="primary",size:s="md",children:n,className:i="",disabled:o=!1,...r},a){const c=yi[t]||yi.primary,u=vi[s]||vi.md;return l.jsx("button",{ref:a,className:`${c} ${u} ${i} ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,...r,children:n})}));Re.displayName="Button";Re.propTypes={variant:j.oneOf(["primary","secondary","protected","exposed","ghost"]),size:j.oneOf(["sm","md","lg"]),children:j.node.isRequired,className:j.string,disabled:j.bool};const md=""+new URL("Life-Milestone-Race-4WPRrUez.png",import.meta.url).href,no=async e=>{const t="https://webpartner.bajajallianz.com/EurekaWSNew/service/pushData",s={name:e.name,age:e.age||25,mobile_no:e.mobile_no,email_id:e.email_id||"",goal_name:e.goal_name||"1",param1:null,param2:null,param3:null,param4:e.param4||null,param5:"",param13:"",param18:"",param19:e.param19||"",param20:"",param23:e.param23||"",param24:e.param24||"",param25:e.param25||"",param26:e.param26||"",param36:"manual",summary_dtls:e.summary_dtls||"Booking Request",p_user_eml:e.email_id||"",p_data_source:e.p_data_source||"WS_ETOUCH_BUY",p_curr_page_path:"https://www.bajajlifeinsurance.com/etouch/",p_ip_addsr:"",p_remark_url:"",prodId:e.prodId||"345",medium:"",contact_number:"",content:"",campaign:"",source:"",keyword:"",flag:"",parameter:"",name1:"",param28:"",param29:"",param30:""};try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});let i={success:!0};try{const o=await n.json();o&&typeof o=="object"&&(i={success:!0,...o})}catch{}return i}catch(n){return console.error("LMS Submission Error:",n),{success:!0}}},fd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},pd={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},$s=f.memo(function({onStart:t}){const[s,n]=f.useState(!1),[i,o]=f.useState(""),[r,a]=f.useState(""),[c,u]=f.useState(!0),[d,h]=f.useState(!1),m=f.useRef(null),[p,x]=f.useState({}),[g,b]=f.useState(!1),[y,v]=f.useState(()=>sessionStorage.getItem("lastSubmittedPhone")||null),[S,T]=f.useState(null);f.useEffect(()=>{y&&sessionStorage.setItem("lastSubmittedPhone",y)},[y]),f.useEffect(()=>{if(S){const k=setTimeout(()=>T(null),3e3);return()=>clearTimeout(k)}},[S]);const w=(k,R="error")=>{T({message:k,type:R})},A=()=>{n(!0)},M=(k,R)=>{let B="";return k==="name"?R.trim()?/^[A-Za-z\s]+$/.test(R.trim())||(B="Name must contain only letters."):B="Please enter your name":k==="phone"&&(R?/^\d{10}$/.test(R)||(B="Enter a valid 10-digit mobile number"):B="Please enter mobile number"),B?(x(E=>({...E,[k]:B})),!1):(x(E=>({...E,[k]:""})),!0)},P=()=>{const k=M("name",i),R=M("phone",r);return k&&R},D=async k=>{if(k.preventDefault(),!!P()&&c){if(y===r){w("You have already registered.","info"),setTimeout(()=>{t(i.trim(),r)},1e3);return}b(!0);try{const R=new Date;R.setDate(R.getDate()+1);const B=R.toISOString().split("T")[0],E={name:i.trim(),mobile_no:r,param4:B,param19:"09:00 AM",summary_dtls:"Game Lead Generator",p_data_source:"LIFE_MILESTONE_RACE_LEAD"};(await no(E)).success?(v(r),t(i.trim(),r)):w("Submission failed. Please try again.")}catch(R){console.error(R),w("Something went wrong.")}finally{b(!1)}}};return l.jsxs(C.div,{className:"w-full flex-1 min-h-[100dvh] flex flex-col items-center justify-end pb-6 pt-8 relative overflow-hidden",variants:fd,initial:"hidden",animate:"visible",style:{backgroundImage:`url(${md})`,backgroundSize:"100% 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[l.jsx(C.div,{variants:pd,className:"w-full max-w-xs z-10",children:l.jsxs(Re,{variant:"primary",size:"lg",className:"w-full shadow-lg text-white btn-5",onClick:A,id:"btn-start-race",style:{background:"linear-gradient(135deg, #FF6600 0%, #F59E0B 100%)"},children:["Start the Race",l.jsx(eo,{size:20})]})}),l.jsx(Pe,{children:s&&l.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",onClick:()=>n(!1),children:l.jsxs(C.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:k=>k.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[320px] min-[375px]:max-w-[340px] p-5 min-[375px]:p-6 border-[4px] sm:border-[6px] border-[#0066B2] rounded-2xl",children:[l.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:l.jsx(Ue,{className:"w-5 h-5 min-[375px]:w-6 min-[375px]:h-6"})}),l.jsxs("div",{className:"text-center mb-4 min-[375px]:mb-6",children:[l.jsx("div",{className:"w-14 h-14 min-[375px]:w-16 min-[375px]:h-16 sm:w-20 sm:h-20 bg-[#0066B2] flex items-center justify-center mx-auto mb-3 min-[375px]:mb-4 shadow-xl border-4 border-white rounded-full",children:l.jsx("span",{className:"text-2xl min-[375px]:text-3xl sm:text-4xl",children:""})}),l.jsx("h2",{className:"text-[#0066B2] text-lg min-[375px]:text-xl sm:text-2xl font-black mb-1",children:"Welcome!"}),l.jsx("p",{className:"text-slate-500 font-bold text-xs min-[375px]:text-sm sm:text-base",children:"Enter your details to start."})]}),l.jsxs("form",{onSubmit:D,className:"space-y-3 min-[375px]:space-y-4",children:[l.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[l.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"userName",children:"Your Name"}),l.jsx("input",{id:"userName",type:"text",value:i,onChange:k=>{o(k.target.value),/^[A-Za-z\s]*$/.test(k.target.value)&&x(R=>({...R,name:""}))},onBlur:k=>M("name",k.target.value),onKeyDown:k=>{var R;k.key==="Enter"&&(k.preventDefault(),M("name",i)&&((R=m.current)==null||R.focus()))},placeholder:"Full Name",autoFocus:!0,className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${p.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),p.name&&l.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:p.name})]}),l.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[l.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"phone",children:"Mobile Number"}),l.jsx("input",{ref:m,id:"phone",type:"tel",maxLength:10,value:r,onChange:k=>{const R=k.target.value.replace(/\D/g,"").slice(0,10);a(R),x(B=>({...B,phone:""}))},onBlur:k=>M("phone",k.target.value),placeholder:"9876543210",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${p.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),p.phone&&l.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:p.phone})]}),l.jsxs("div",{className:"flex items-start space-x-3 pt-1 text-left",children:[l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("input",{id:"terms",type:"checkbox",checked:c,onChange:k=>u(k.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),l.jsx(xi,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),l.jsxs("label",{htmlFor:"terms",className:"text-[10px] sm:text-xs font-semibold text-slate-500 leading-tight select-none",children:["I agree to the"," ",l.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-[#0066B2] hover:underline font-bold inline",children:"Terms & Conditions"})," ","and Acknowledge the Privacy Policy."]})]}),l.jsx("button",{type:"submit",disabled:!i.trim()||r.length!==10||!c||g,className:"w-full py-2.5 min-[375px]:py-3 sm:py-4 rounded-xl font-game text-sm sm:text-lg tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 15px rgba(0, 102, 178, 0.3)"},children:g?l.jsxs(l.Fragment,{children:[l.jsx(to,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Starting..."})]}):"Let's Go!"})]})]})})}),l.jsx(Pe,{children:d&&l.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>h(!1),children:l.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:k=>k.stopPropagation(),className:"bg-white p-6 rounded-2xl max-w-md w-full shadow-2xl border-4 border-[#0066B2] relative text-left",children:[l.jsx("button",{onClick:()=>h(!1),className:"absolute top-3 right-3 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:l.jsx(Ue,{className:"w-5 h-5"})}),l.jsx("h3",{className:"text-[#0066B2] font-black text-lg uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),l.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 space-y-3 font-medium leading-relaxed max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[l.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),l.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),l.jsx("button",{onClick:()=>{h(!1),u(!0)},className:"w-full mt-6 py-3 bg-[#0066B2] text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-sm uppercase tracking-wider",children:"I Agree"})]})})}),l.jsx(Pe,{children:S&&l.jsxs(C.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${S.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[S.type==="error"?l.jsx(Ue,{size:20,className:"stroke-[3]"}):l.jsx(xi,{size:20,className:"stroke-[3]"}),l.jsx("span",{className:"font-bold text-sm",children:S.message})]})})]})});$s.displayName="IntroScreen";$s.propTypes={onStart:j.func.isRequired};const gd=["justify-start","justify-end","justify-center","justify-start","justify-end"],xd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.15}}},yd={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.175,.885,.32,1.275]}}},Ws=f.memo(function({onSelectStage:t}){const[s,n]=f.useState(null),i=f.useCallback(a=>{n(a)},[]),o=f.useCallback(()=>{s&&t(s)},[s,t]),r=f.useMemo(()=>l.jsx("svg",{className:"absolute top-0 left-0 w-full h-full z-[1] pointer-events-none",fill:"none",viewBox:"0 0 430 600",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:l.jsx("path",{d:"M100 60 C 250 100, 350 150, 300 220 C 250 290, 100 320, 150 400 C 200 480, 350 500, 300 580",stroke:"white",strokeWidth:"8",strokeDasharray:"16 16",strokeLinecap:"round",opacity:"0.4"})}),[]);return l.jsxs("div",{className:"fixed inset-0 map-bg flex flex-col overflow-hidden",children:[l.jsx("div",{className:"ray-burst","aria-hidden":"true"}),l.jsx("div",{className:"absolute top-[5rem] -left-[2.5rem] w-[8rem] h-[8rem] bg-white/30 blur-2xl rounded-full z-0","aria-hidden":"true"}),l.jsx("div",{className:"absolute bottom-[10rem] -right-[2.5rem] w-[12rem] h-[12rem] bg-yellow-200/20 blur-2xl rounded-full z-0","aria-hidden":"true"}),l.jsxs(C.div,{className:"px-4 pt-8 sm:pt-12 pb-1 sm:pb-2 text-center z-20 flex-shrink-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[l.jsx("h1",{className:"font-game text-[1.75rem] sm:text-[2.25rem] text-white drop-shadow-lg tracking-wide leading-tight mb-0.5 uppercase",children:"Select Your Stage"}),l.jsx("p",{className:"text-blue-900 font-game-body font-black text-[0.625rem] sm:text-[0.6875rem] uppercase tracking-widest opacity-80",children:"Tap a milestone to start the race"})]}),l.jsxs(C.div,{className:"flex-1 relative z-10 px-4 sm:px-6 py-2 flex flex-col justify-evenly gap-0 max-w-[26.875rem] mx-auto w-full min-h-0",variants:xd,initial:"hidden",animate:"visible",children:[r,is.map((a,c)=>{const u=s===a.id,d=gd[c]||"justify-center";return l.jsx(C.div,{variants:yd,className:`flex ${d} w-full z-10`,children:l.jsxs("div",{className:`glossy-card ${u?"glossy-selected":""} w-[8.5rem] sm:w-[10rem] p-2 sm:p-3 rounded-2xl sm:rounded-3xl flex flex-col items-center gap-1 sm:gap-1.5 cursor-pointer`,onClick:()=>i(a.id),role:"radio","aria-checked":u,"aria-label":`${a.label} (${a.ageRange})`,tabIndex:0,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),i(a.id))},children:[l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"text-[2.25rem] sm:text-[3rem] drop-shadow-md block leading-none",children:a.emoji}),l.jsx("div",{className:`absolute -top-1 -right-1 w-[1.125rem] h-[1.125rem] sm:w-[1.375rem] sm:h-[1.375rem] rounded-full border-2 border-white flex items-center justify-center transition-colors duration-200 ${u?"bg-green-500":"bg-slate-200"}`,children:l.jsx("span",{className:`material-symbols-outlined text-[0.625rem] sm:text-[0.75rem] font-bold ${u?"text-white":"text-slate-400"}`,children:u?"check":"radio_button_unchecked"})})]}),l.jsx("span",{className:"font-game-body font-black text-[0.6875rem] sm:text-[0.8125rem] uppercase tracking-tight text-slate-800 text-center leading-tight",children:a.label}),l.jsx("span",{className:"text-[0.5625rem] sm:text-[0.6875rem] font-semibold text-slate-500 tracking-wider",children:a.ageRange})]})},a.id)})]}),l.jsx(C.div,{className:"px-4 sm:px-6 pb-6 pt-2 z-20 max-w-[26.875rem] mx-auto w-full flex-shrink-0",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5,ease:"easeOut"},children:l.jsxs("button",{className:"chunky-btn w-full bg-blue-600 hover:bg-blue-500 text-white font-game text-[1.25rem] sm:text-[1.5rem] py-4 sm:py-5 rounded-2xl sm:rounded-3xl flex items-center justify-center gap-2 active:scale-95 disabled:hover:bg-blue-600",onClick:o,disabled:!s,id:"btn-confirm-stage",children:["BEGIN RACE",l.jsx("span",{className:"material-symbols-outlined text-[1.5rem] sm:text-[1.875rem]",children:"chevron_right"})]})})]})});Ws.displayName="StageSelection";Ws.propTypes={onSelectStage:j.func.isRequired};const vd={hidden:{opacity:0,y:40,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.16,1,.3,1]}},exit:{opacity:0,y:-30,scale:.95,transition:{duration:.3,ease:"easeIn"}}},bi={high:{label:"High Impact",bg:"#FF8C00",text:"#fff",glow:"rgba(255, 140, 0, 0.4)",Icon:so},medium:{label:"Medium Impact",bg:"rgba(0, 102, 178, 0.15)",text:"#0066B2",glow:"none",Icon:qe},moderate:{label:"Medium Impact",bg:"rgba(0, 102, 178, 0.15)",text:"#0066B2",glow:"none",Icon:qe}},io=f.memo(function({event:t}){if(!t)return null;const s=bi[t.severity]||bi.medium,n=s.Icon;return l.jsx(C.div,{variants:vd,initial:"hidden",animate:"visible",exit:"exit",className:"w-full",children:l.jsxs("div",{className:"w-full text-center space-y-4 flex flex-col items-center justify-center h-full",style:{background:"rgba(255, 255, 255, 0.92)",backdropFilter:"blur(16px)",borderRadius:"28px",border:"4px solid #FFFFFF",padding:"2rem 1.75rem",boxShadow:"0 12px 40px rgba(0, 74, 128, 0.1), 0 4px 12px rgba(0, 0, 0, 0.05)"},children:[l.jsx("div",{className:"flex justify-center mb-1",children:l.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full text-[0.85rem] font-black uppercase tracking-wider transform transition-transform",style:{backgroundColor:s.bg,color:s.text,boxShadow:s.glow!=="none"?`0 0 16px ${s.glow}`:void 0},children:[l.jsx(n,{size:16,strokeWidth:3}),s.label]})}),l.jsx("h3",{className:"font-black text-blue-950 leading-tight drop-shadow-sm",style:{fontSize:"1.75rem",letterSpacing:"-0.03em"},children:t.title}),l.jsx("p",{className:"text-blue-900/80 leading-relaxed max-w-[280px] mx-auto font-medium",style:{fontSize:"1.125rem"},children:t.description})]})},t.id)});io.displayName="EventCard";io.propTypes={event:j.shape({id:j.string.isRequired,title:j.string.isRequired,description:j.string.isRequired,severity:j.oneOf(["high","medium","moderate"]).isRequired,stage:j.string.isRequired})};const ro=f.memo(function({score:t,maxScore:s=100}){const n=f.useMemo(()=>Math.max(0,Math.min(100,t/s*100)),[t,s]),{label:i,pillColor:o}=f.useMemo(()=>n<=35?{label:"Low",pillColor:"#EF4444"}:n<=70?{label:"Medium",pillColor:"#FF8C00"}:{label:"High",pillColor:"#10B981"},[n]);return l.jsxs("div",{className:"w-full space-y-2",children:[l.jsxs("div",{className:"flex items-end justify-between px-1",children:[l.jsx("span",{className:"text-[0.9rem] font-bold text-blue-950/90 tracking-wide uppercase mb-0.5",children:"Protection Score"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[0.7rem] font-black uppercase tracking-wider px-2.5 py-0.5 rounded-full transition-colors duration-300",style:{backgroundColor:o,color:"#fff",boxShadow:`0 0 10px ${o}60`},children:i}),l.jsx("span",{className:"text-[1.75rem] font-black text-blue-950 leading-none tabular-nums tracking-tight",children:Math.round(t)})]})]}),l.jsx("div",{className:"relative w-full rounded-full overflow-hidden",style:{height:"16px",backgroundColor:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"},children:l.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out relative",style:{width:`${Math.max(5,n)}%`,background:"linear-gradient(90deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"0 0 12px rgba(255, 140, 0, 0.4)"},children:l.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-white/30 to-transparent"})})})]})});ro.displayName="ProtectionMeter";ro.propTypes={score:j.number.isRequired,maxScore:j.number};const oo=f.memo(function({onDecision:t,timeLeft:s,timerProgress:n,disabled:i=!1}){const o=s<=2;return f.useMemo(()=>(s<=2||s<=3,"#FF8C00"),[s]),l.jsxs("div",{className:"w-full flex flex-col items-center gap-3",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 -mb-2 z-10",children:l.jsx(C.div,{className:"relative flex items-center justify-center bg-white rounded-full p-1",style:{boxShadow:"0 8px 24px rgba(0,0,0,0.1)"},children:l.jsxs(C.div,{className:"relative flex items-center justify-center rounded-full",style:{width:76,height:76,background:"linear-gradient(135deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"inset 0 4px 6px rgba(0,0,0,0.1)"},animate:o?{scale:[1,1.05,1]}:{scale:1},transition:{duration:.5,repeat:o?1/0:0},children:[l.jsx("span",{className:"text-[2.25rem] font-black text-white leading-none drop-shadow-md",children:s}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 76 76",children:[l.jsx("circle",{cx:"38",cy:"38",r:"34",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"4"}),l.jsx("circle",{cx:"38",cy:"38",r:"34",fill:"none",stroke:"#fff",strokeWidth:"4",strokeDasharray:`${2*Math.PI*34}`,strokeDashoffset:`${2*Math.PI*34*(1-n/100)}`,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]})]})})}),l.jsxs("div",{className:"w-full flex flex-col gap-3 pt-2",children:[l.jsx(C.button,{onClick:()=>t("protected"),disabled:i,whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 font-black text-white text-[1.2rem] uppercase tracking-wider transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",style:{height:"66px",borderRadius:"20px",background:"linear-gradient(135deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"0 8px 20px rgba(255, 140, 0, 0.3), 0 4px 0 #CC5500",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},id:"btn-protected",children:" I'm Protected"}),l.jsx(C.button,{onClick:()=>t("exposed"),disabled:i,whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 font-black text-white text-[1.2rem] uppercase tracking-wider transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",style:{height:"66px",borderRadius:"20px",background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 20px rgba(0, 74, 128, 0.25), 0 4px 0 #004A80",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},id:"btn-exposed",children:" I'm Exposed"})]})]})});oo.displayName="DecisionButtons";oo.propTypes={onDecision:j.func.isRequired,timeLeft:j.number.isRequired,timerProgress:j.number.isRequired,disabled:j.bool};const ao=({score:e})=>{const t=f.useRef(null),[s,n]=f.useState(0),i=isNaN(e)?0:e,o=Math.min(Math.max(Number(i),0),100),r=c=>c<40?"#FF3D00":c<75?"#FFD600":"#00E676";f.useEffect(()=>{const c=t.current;if(!c)return;const u=c.getContext("2d");let d;const h=.8*Math.PI,m=2.2*Math.PI,p=m-h,x=c.width,g=c.height,b=x/2,y=g/2,v=Math.min(x,g)/2-20,S=20;let T=0;const w=()=>{const A=o-T;Math.abs(A)>.5?T+=A*.08:T=o,n(Math.round(T)),u.clearRect(0,0,x,g),u.beginPath(),u.arc(b,y,v,h,m),u.lineWidth=S,u.strokeStyle="rgba(255, 255, 255, 0.1)",u.lineCap="round",u.stroke();const M=T/100,P=h+M*p,D=r(T);u.save(),u.beginPath(),u.arc(b,y,v,h,P),u.lineWidth=S,u.strokeStyle=D,u.lineCap="round",u.shadowBlur=20,u.shadowColor=D,u.stroke(),u.restore();const k=40;u.save(),u.shadowBlur=0;for(let V=0;V<=k;V++){const U=V/k,ie=h+U*p,L=V%10===0,G=L?12:6,Y=v-S/2-5,te=Y-G,Qe=b+Math.cos(ie)*Y,wt=y+Math.sin(ie)*Y,q=b+Math.cos(ie)*te,be=y+Math.sin(ie)*te;u.beginPath(),u.moveTo(Qe,wt),u.lineTo(q,be),u.lineWidth=L?2:1,u.strokeStyle=U<=M?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",u.stroke()}u.restore();const R=v-10,B=b+Math.cos(P)*R,E=y+Math.sin(P)*R;u.save(),u.beginPath(),u.moveTo(b,y),u.lineTo(B,E),u.lineWidth=4,u.strokeStyle="#fff",u.lineCap="round",u.shadowBlur=15,u.shadowColor="#fff",u.stroke(),u.beginPath(),u.arc(b,y,8,0,Math.PI*2),u.fillStyle="#fff",u.fill(),u.restore(),Math.abs(A)>.5&&(d=requestAnimationFrame(w))};return w(),()=>{d&&cancelAnimationFrame(d)}},[o]);const a=r(s);return l.jsxs("div",{className:"relative flex flex-col items-center justify-center select-none w-full max-w-[350px] mx-auto",children:[l.jsx("canvas",{ref:t,width:350,height:300,className:"w-full h-auto drop-shadow-xl"}),l.jsx("div",{className:"text-center pointer-events-none z-10 -mt-12 mb-4",children:l.jsxs("div",{className:"text-5xl sm:text-6xl font-black text-white italic tracking-tighter",style:{textShadow:`0 0 20px ${a}, 0 0 40px ${a}`},children:[s,l.jsx("span",{className:"text-2xl sm:text-3xl font-bold not-italic ml-1 text-white/50",children:"/100"})]})})]})},lo=f.memo(function({score:t,category:s,onViewTimeline:n}){const i=(s==null?void 0:s.color)||"#3B82F6";return l.jsxs(C.div,{className:"w-full flex flex-col items-center gap-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:[l.jsxs(C.div,{className:"text-center space-y-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:[l.jsx("h2",{className:"race-heading text-[2rem] text-blue-950",children:"Race Complete!"}),l.jsx("p",{className:"text-blue-900/60 text-[0.875rem] uppercase tracking-widest font-bold",children:"Your Life Protection Score"})]}),l.jsx("div",{className:"relative w-full flex justify-center",children:l.jsx(ao,{score:t})}),l.jsxs(C.div,{className:"text-center space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.5},children:[l.jsx("span",{className:"inline-flex items-center px-6 py-2 rounded-full text-[1rem] font-black uppercase tracking-wider",style:{backgroundColor:`${i}15`,color:i,border:`2px solid ${i}40`,boxShadow:`0 0 20px ${i}20`},children:s==null?void 0:s.label}),l.jsx("p",{className:"text-blue-900/70 text-[0.875rem] max-w-xs mx-auto leading-relaxed",children:"Life moves faster than planning. Let's strengthen your protection."})]}),l.jsx(C.div,{className:"w-full max-w-xs",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4,duration:.5},children:l.jsxs(Re,{variant:"primary",size:"lg",className:"w-full py-4 text-[1rem] font-bold uppercase tracking-wider",onClick:n,id:"btn-view-timeline",children:["View Your Journey",l.jsx(eo,{size:20})]})})]})});lo.displayName="SpeedometerScore";lo.propTypes={score:j.number.isRequired,category:j.shape({label:j.string,color:j.string,key:j.string}).isRequired,onViewTimeline:j.func.isRequired};const bt=f.memo(function({children:t,className:s="",padding:n="md",glow:i=!1,...o}){const r={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return l.jsx("div",{className:`race-glass-card ${r[n]||r.md} ${i?"glow-blue":""} ${s}`,...o,children:t})});bt.displayName="Card";bt.propTypes={children:j.node.isRequired,className:j.string,padding:j.oneOf(["none","sm","md","lg"]),glow:j.bool};const bd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06,delayChildren:.1}}},wi={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.35,ease:"easeOut"}}},Gs=f.memo(function({timeline:t,onContinue:s}){const n=t.filter(o=>o.decision==="protected").length,i=t.filter(o=>o.decision==="exposed").length;return l.jsxs(C.div,{className:"w-full flex flex-col gap-5 max-h-[85dvh] overflow-y-auto",variants:bd,initial:"hidden",animate:"visible",children:[l.jsxs(C.div,{variants:wi,className:"text-center space-y-2",children:[l.jsx("h2",{className:"race-subheading text-[1.5rem] text-blue-950",children:"Your Life Journey"}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 text-[0.8125rem] text-race-success",children:[l.jsx(qe,{size:14})," ",n," Protected"]}),l.jsxs("span",{className:"inline-flex items-center gap-1 text-[0.8125rem] text-race-danger",children:[l.jsx(rs,{size:14})," ",i," Exposed"]})]})]}),l.jsxs("div",{className:"relative space-y-3 pl-8",children:[l.jsx("div",{className:"absolute left-3 top-2 bottom-2 w-0.5 bg-gradient-to-b from-race-accent/40 via-race-border to-race-accent/40"}),t.map((o,r)=>{const a=o.decision==="protected";return l.jsxs(C.div,{variants:wi,className:"relative",children:[l.jsx("div",{className:`absolute -left-5 top-4 w-3 h-3 rounded-full border-2 ${a?"bg-race-success border-race-success":"bg-race-danger border-race-danger"}`}),l.jsx(bt,{padding:"sm",className:"ml-1",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:"text-[0.75rem] text-blue-900/60 font-medium",children:o.stage}),l.jsx("span",{className:`severity-badge severity-${o.severity}`,children:qu(o.severity)})]}),l.jsx("p",{className:"text-[0.875rem] font-medium text-blue-950 mt-1",children:o.title})]}),l.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end gap-1",children:[l.jsx("span",{className:`inline-flex items-center gap-1 text-[0.6875rem] font-semibold rounded-full px-2 py-0.5 ${a?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a?l.jsxs(l.Fragment,{children:[l.jsx(qe,{size:10})," Safe"]}):l.jsxs(l.Fragment,{children:[l.jsx(rs,{size:10})," Exposed"]})}),l.jsxs("span",{className:`text-[0.75rem] font-bold ${o.scoreDelta>=0?"text-green-400":"text-red-400"}`,children:[o.scoreDelta>0?"+":"",o.scoreDelta]})]})]})})]},`${o.eventId}-${r}`)})]})]})});Gs.displayName="TimelineSummary";Gs.propTypes={timeline:j.arrayOf(j.shape({eventId:j.string.isRequired,stage:j.string.isRequired,title:j.string.isRequired,severity:j.string.isRequired,decision:j.string.isRequired,scoreDelta:j.number.isRequired})).isRequired,onContinue:j.func.isRequired};const wd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.12,delayChildren:.1}}},Ve={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},co=f.memo(function({score:t,category:s,onBookSlot:n}){const i=async()=>{const r=`I scored ${t}/100 (${s==null?void 0:s.label}) on the Life Milestone Race! Check your Life Goals readiness and discover how prepared you are for your future. ${window.location.href}`,a={title:"My Life Protection Score",text:r,url:window.location.href};if(navigator.share)try{await navigator.share(a)}catch(c){console.log("Error sharing:",c)}else navigator.clipboard.writeText(r),alert("Result copied to clipboard!")},o=()=>{window.location.href="tel:18002099999"};return l.jsxs(C.div,{className:"w-full flex flex-col items-center gap-8",variants:wd,initial:"hidden",animate:"visible",children:[l.jsxs(C.div,{variants:Ve,className:"text-center space-y-3",children:[l.jsx("h2",{className:"race-heading text-[1.75rem] text-blue-950",children:"Strengthen Your Protection"}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[0.75rem] font-black uppercase tracking-[0.2em] text-blue-900/40 mb-1",children:"Your Score"}),l.jsxs("span",{className:"text-[2.5rem] font-black",style:{color:(s==null?void 0:s.color)||"#3B82F6",textShadow:`0 0 20px ${s==null?void 0:s.color}40`},children:[t,"/100"]})]})]}),l.jsxs(C.div,{variants:Ve,className:"w-full bg-bajaj-blue/10 border border-bajaj-blue/30 rounded-2xl p-5 backdrop-blur-md relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-bajaj-blue"}),l.jsx("p",{className:"text-[1rem] text-blue-900/90 leading-relaxed font-medium",children:"To know more about insurance and savings products, please connect with our relationship manager."}),l.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5 group-hover:opacity-10 transition-opacity",children:l.jsx(gi,{size:100})})]}),l.jsxs("div",{className:"w-full flex flex-col gap-4",children:[l.jsx(C.div,{variants:Ve,children:l.jsxs(Re,{variant:"primary",size:"lg",className:"w-full py-4 bg-orange-500 hover:bg-orange-600 border-orange-400 shadow-[0_4px_0_rgb(194,65,12)] active:shadow-none active:translate-y-1 transition-all",onClick:i,id:"btn-share",children:[l.jsx(os,{size:20}),"Share Your Result"]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(C.div,{variants:Ve,children:l.jsxs("button",{onClick:o,className:"w-full h-14 bg-bajaj-blue/10 hover:bg-bajaj-blue/20 border-2 border-bajaj-blue/30 text-bajaj-blue font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95",id:"btn-call",children:[l.jsx(Us,{size:18}),"Call Now"]})}),l.jsx(C.div,{variants:Ve,children:l.jsxs("button",{onClick:n,className:"w-full h-14 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-[0_4px_0_rgb(180,83,9)] active:shadow-none active:translate-y-1 transition-all",id:"btn-book-slot",children:[l.jsx(gi,{size:18}),"Book Slot"]})})]})]})]})});co.displayName="ConversionScreen";co.propTypes={score:j.number.isRequired,category:j.shape({label:j.string,color:j.string}),onBookSlot:j.func.isRequired};async function Sd(e){return console.log("[Dev] Mocking submitLead API call:",e),new Promise(t=>{setTimeout(()=>{t({success:!0,message:"Lead submitted successfully (Mock)",data:{leadId:"mock-lead-"+Date.now()}})},1e3)})}const Td=["9:00 AM - 11:00 AM","11:00 AM - 1:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","6:00 PM - 8:00 PM"],jd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},fe={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.35}}},uo=f.memo(function({gameId:t,score:s,category:n,riskGaps:i,onSuccess:o}){const[r,a]=f.useState({name:"",mobile:"",preferredDate:"",preferredSlot:""}),[c,u]=f.useState({}),[d,h]=f.useState(!1),[m,p]=f.useState(""),x=f.useCallback(()=>{const v={};return r.name.trim()||(v.name="Name is required"),/^[6-9]\d{9}$/.test(r.mobile)||(v.mobile="Enter a valid 10-digit mobile number"),r.preferredDate||(v.preferredDate="Select a date"),r.preferredSlot||(v.preferredSlot="Select a time slot"),u(v),Object.keys(v).length===0},[r]),g=f.useCallback((v,S)=>{a(T=>({...T,[v]:S})),u(T=>({...T,[v]:""})),p("")},[]),b=f.useCallback(async v=>{if(v.preventDefault(),!!x()){h(!0),p("");try{await Sd({gameId:t,name:r.name.trim(),mobile:r.mobile.trim(),preferredDate:r.preferredDate,preferredSlot:r.preferredSlot,lifeProtectionScore:s,protectionCategory:(n==null?void 0:n.label)||"",riskSummary:i}),o==null||o()}catch{p("Something went wrong. Please try again.")}finally{h(!1)}}},[r,x,t,s,n,i,o]),y=new Date().toISOString().split("T")[0];return l.jsxs(C.form,{className:"w-full flex flex-col gap-4",variants:jd,initial:"hidden",animate:"visible",onSubmit:b,noValidate:!0,children:[l.jsxs(C.div,{variants:fe,className:"text-center space-y-1",children:[l.jsx("h2",{className:"race-subheading text-[1.375rem] text-blue-950",children:"Book Your Slot"}),l.jsx("p",{className:"text-blue-900/60 text-[0.8125rem]",children:"A protection expert will call you at your preferred time"})]}),l.jsxs(C.div,{variants:fe,children:[l.jsx("label",{htmlFor:"lead-name",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(hd,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),l.jsx("input",{id:"lead-name",type:"text",value:r.name,onChange:v=>g("name",v.target.value),placeholder:"Enter your name",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 placeholder-slate-500 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent ${c.name?"border-red-500":"border-white focus:border-race-accent"}`,autoComplete:"name"})]}),c.name&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.name})]}),l.jsxs(C.div,{variants:fe,children:[l.jsx("label",{htmlFor:"lead-mobile",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Mobile Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(Us,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),l.jsx("input",{id:"lead-mobile",type:"tel",value:r.mobile,onChange:v=>g("mobile",v.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 placeholder-slate-500 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent ${c.mobile?"border-red-500":"border-white focus:border-race-accent"}`,inputMode:"numeric",autoComplete:"tel"})]}),c.mobile&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.mobile})]}),l.jsxs(C.div,{variants:fe,children:[l.jsx("label",{htmlFor:"lead-date",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Preferred Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),l.jsx("input",{id:"lead-date",type:"date",value:r.preferredDate,onChange:v=>g("preferredDate",v.target.value),min:y,className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent [color-scheme:light] ${c.preferredDate?"border-red-500":"border-white focus:border-race-accent"}`})]}),c.preferredDate&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.preferredDate})]}),l.jsxs(C.div,{variants:fe,children:[l.jsxs("label",{className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:[l.jsx(cd,{size:14,className:"inline mr-1"}),"Preferred Time Slot"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Td.map(v=>l.jsx("button",{type:"button",onClick:()=>g("preferredSlot",v),className:`px-3 py-2 rounded-lg text-[0.75rem] font-medium transition-all duration-200 ${r.preferredSlot===v?"bg-race-accent text-white border border-race-accent":"bg-white/60 text-slate-600 border border-white hover:border-race-accent/50"}`,children:v},v))}),c.preferredSlot&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.preferredSlot})]}),m&&l.jsx(C.div,{variants:fe,children:l.jsx(bt,{padding:"sm",className:"border-red-500/30 bg-red-500/10",children:l.jsx("p",{className:"text-red-400 text-[0.8125rem] text-center",children:m})})}),l.jsx(C.div,{variants:fe,children:l.jsx(Re,{variant:"primary",size:"lg",className:"w-full",disabled:d,type:"submit",id:"btn-submit-lead",children:d?l.jsxs(l.Fragment,{children:[l.jsx(to,{size:20,className:"animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dd,{size:18}),"Confirm Booking"]})})})]})});uo.displayName="LeadForm";uo.propTypes={gameId:j.string.isRequired,score:j.number.isRequired,category:j.shape({label:j.string,color:j.string}),riskGaps:j.arrayOf(j.string),onSuccess:j.func};const ho=()=>{const e=f.useRef(null);return f.useEffect(()=>{const t=e.current;if(!t)return;const s=t.getContext("2d");let n=window.innerWidth,i=window.innerHeight;t.width=n,t.height=i;const o=[],r=150,a=["#0066B2","#FF8C00","#ffffff","#FFD700","#00A3E0"];class c{constructor(){this.init()}init(){this.x=Math.random()*n,this.y=Math.random()*i-i,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.speed=Math.random()*3+2,this.color=a[Math.floor(Math.random()*a.length)],this.vx=Math.random()*2-1,this.vy=Math.random()*2+2}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=2,this.y>i&&(this.init(),this.y=-20)}draw(){s.save(),s.translate(this.x,this.y),s.rotate(this.rotation*Math.PI/180),s.fillStyle=this.color,s.fillRect(-this.size/2,-this.size/2,this.size,this.size),s.restore()}}for(let p=0;p<r;p++)o.push(new c);let u;const d=()=>{s.clearRect(0,0,n,i),o.forEach(p=>{p.update(),p.draw()}),u=requestAnimationFrame(d)};d();const h=setTimeout(()=>{cancelAnimationFrame(u),s.clearRect(0,0,n,i)},5e3),m=()=>{n=window.innerWidth,i=window.innerHeight,t.width=n,t.height=i};return window.addEventListener("resize",m),()=>{cancelAnimationFrame(u),clearTimeout(h),window.removeEventListener("resize",m)}},[]),l.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-[100]"})},Cd=({onRestart:e,userName:t})=>l.jsxs("div",{className:"relative w-full min-h-[100dvh] flex flex-col overflow-hidden max-w-[600px] mx-auto",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[l.jsx(ho,{}),l.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),l.jsx("div",{className:"relative z-10 w-full h-full flex flex-col py-4 px-4 sm:px-8 overflow-y-auto overflow-x-hidden custom-scrollbar justify-between sm:justify-center",children:l.jsxs(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},className:"flex flex-col items-center justify-center my-auto flex-1 text-center px-4",children:[l.jsxs(C.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-5xl sm:text-6xl md:text-7xl font-black text-white italic tracking-tight drop-shadow-xl mb-6 leading-tight",children:["Thank You ",t]}),l.jsx(C.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-lg sm:text-xl md:text-2xl text-blue-100 font-bold drop-shadow-md mb-2",children:"For sharing your details"}),l.jsx(C.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-base sm:text-lg md:text-xl text-white/90 font-medium drop-shadow-md mb-12",children:"Our Relationship Manager will connect with you"}),l.jsx(C.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:e,className:"bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black text-sm py-3 px-8 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest border-2 border-white/20 rounded-full",children:"RETAKE"})]})})]}),Pd=""+new URL("FirstJob-DUJakzMD.png",import.meta.url).href,kd=""+new URL("Marriage-t4dEKDuw.png",import.meta.url).href,Nd=""+new URL("ParentHood-BX-gawut.png",import.meta.url).href,Ad=""+new URL("MidCareer-B3ED9UsF.png",import.meta.url).href,Ed=""+new URL("Approaching_Retirement-Dafh4g1V.png",import.meta.url).href,Md={high:{label:"HIGH IMPACT",bg:"#ea580c",text:"#FFF",icon:so},medium:{label:"MEDIUM IMPACT",bg:"#f97316",text:"#FFF",icon:qe}},Ks=f.memo(function({stageData:t,questionNumber:s,totalQuestions:n,currentEvent:i,timeLeft:o,timerProgress:r,onDecision:a}){const c=f.useMemo(()=>({"first-job":{image:Pd,label:"FIRST JOB",icon:"",posBtn:"I'M PROTECTED"},marriage:{image:kd,label:"MARRIAGE",icon:"",posBtn:"I'M PROTECTED"},parenthood:{image:Nd,label:"PARENTHOOD",icon:"",posBtn:"I'M PROTECTED"},"mid-career":{image:Ad,label:"MID-CAREER",icon:"",posBtn:"I'M PROTECTED"},retirement:{image:Ed,label:"APPROACHING RETIREMENT",icon:"",posBtn:"I'M PROTECTED"}}),[]),u=c[t==null?void 0:t.id]||c["first-job"],d=u.image,h=(i==null?void 0:i.severity)==="high"?"high":"medium",m=Md[h],p=Math.round((s-1)/n*100);return l.jsxs("div",{className:"w-full h-full flex flex-col items-center px-5 pb-6 overflow-y-auto overflow-x-hidden relative font-sans custom-scrollbar",style:{background:"linear-gradient(180deg, rgb(0, 51, 102) 0%, rgb(0, 68, 129) 100%)",fontFamily:"Inter, sans-serif",minHeight:"100dvh"},children:[l.jsxs("div",{className:"w-full max-w-sm pt-4 text-center z-20 shrink-0",children:[l.jsxs("h2",{className:"text-[1.4rem] font-extrabold text-white uppercase tracking-wider flex justify-center items-center gap-2 drop-shadow-sm leading-tight",children:[u.label," ",l.jsx("span",{className:"text-[1.4rem]",children:u.icon})]}),l.jsx("p",{className:"text-[0.6rem] text-blue-200 font-bold uppercase tracking-[0.2em] mt-0.5 opacity-90",children:"FINANCIAL RISK AHEAD"}),l.jsxs("div",{className:"mt-3 w-full max-w-[280px] mx-auto",children:[l.jsxs("div",{className:"flex justify-between text-[0.65rem] font-bold text-white mb-1 px-0.5 opacity-90",children:[l.jsxs("span",{children:["QUESTION ",s,"/",n]}),l.jsxs("span",{children:[p,"%"]})]}),l.jsx("div",{className:"h-[4px] bg-blue-900/30 rounded-full overflow-hidden border border-white/10",children:l.jsx(C.div,{className:"h-full bg-orange-500 rounded-full",initial:{width:0},animate:{width:`${p}%`},transition:{duration:.5}})})]})]}),l.jsx("div",{className:"flex-1 min-h-0 flex justify-center w-full z-10 pointer-events-none items-center -mt-4 mb-2",children:l.jsx(C.img,{src:d,alt:u.label,initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"h-full w-auto max-h-[350px] object-contain drop-shadow-xl"},t==null?void 0:t.id)}),l.jsxs("div",{className:"relative w-full max-w-sm shrink-0 z-20 mb-2",children:[l.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-[1.5rem] px-6 pt-9 pb-10 shadow-lg text-center relative mx-1",children:[l.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:"text-white text-[0.6rem] font-extrabold px-3 py-1 rounded-full shadow-sm flex items-center gap-1 uppercase tracking-widest",style:{backgroundColor:m.bg},children:m.label})}),l.jsx("h3",{className:"text-[1.25rem] font-extrabold text-slate-900 mt-0.5 leading-tight",children:i==null?void 0:i.title}),l.jsx("p",{className:"text-[0.85rem] font-medium text-slate-600 mt-2.5 leading-relaxed px-1",children:i==null?void 0:i.description})]},i==null?void 0:i.id),l.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 z-30",children:l.jsx("div",{className:"w-[66px] h-[66px] rounded-full bg-white p-[3px] shadow-lg",children:l.jsxs("div",{className:"w-full h-full rounded-full bg-orange-500 flex items-center justify-center shadow-inner relative overflow-hidden",children:[l.jsx("span",{className:"text-white text-[1.6rem] font-extrabold relative z-10 pt-0.5",children:o}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",children:[l.jsx("circle",{cx:"29",cy:"29",r:"26",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"3"}),l.jsx("circle",{cx:"29",cy:"29",r:"26",fill:"none",stroke:"#fff",strokeWidth:"3",strokeDasharray:2*Math.PI*26,strokeDashoffset:2*Math.PI*26*(1-r/100),strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]})]})})})]}),l.jsxs("div",{className:"w-full max-w-sm flex flex-col gap-3 z-30 pb-2 px-1 mt-8 shrink-0",children:[l.jsxs(C.button,{whileTap:{scale:.98},onClick:()=>a("protected"),className:"py-3.5 rounded-xl bg-[#e65100] text-white font-extrabold text-[1rem] shadow-md active:scale-95 transition flex items-center justify-center gap-2 relative overflow-hidden",style:{background:"linear-gradient(to right, #ea580c, #c2410c)"},children:[l.jsx(ld,{size:18,strokeWidth:3,className:"text-white/90"}),l.jsx("span",{children:"I'M PROTECTED"})]}),l.jsxs(C.button,{whileTap:{scale:.98},onClick:()=>a("exposed"),className:"py-3.5 rounded-xl bg-[#004A80] text-white font-extrabold text-[1rem] shadow-md active:scale-95 transition flex items-center justify-center gap-2 relative overflow-hidden",style:{background:"linear-gradient(to right, #00509E, #003366)"},children:[l.jsx(rs,{size:18,strokeWidth:3,className:"text-white/90"}),l.jsx("span",{children:"I'M EXPOSED"})]})]})]})});Ks.displayName="QuestionScreen";Ks.propTypes={stageData:j.object,questionNumber:j.number,totalQuestions:j.number,currentEvent:j.object,timeLeft:j.number,timerProgress:j.number,onDecision:j.func};const Rd=({score:e,finalScore:t,userName:s,userPhone:n,timeline:i,category:o,onRestart:r,gameId:a,riskGaps:c,onBookSlot:u})=>{const d=t||e||0,[h,m]=f.useState(!1),[p,x]=f.useState(!1),[g,b]=f.useState({name:s||"",mobile:n||"",date:"",time:""}),[y,v]=f.useState(!1),[S,T]=f.useState({}),w=(E,V)=>{b(U=>({...U,[E]:V})),S[E]&&T(U=>({...U,[E]:null}))},A=()=>{const E={};return g.name.trim()?/^[A-Za-z\s]+$/.test(g.name.trim())||(E.name="Invalid name"):E.name="Name is required",g.mobile?/^\d{10}$/.test(g.mobile)||(E.mobile="Invalid Mobile Number"):E.mobile="Mobile is required",g.date||(E.date="Required"),g.time||(E.time="Required"),T(E),Object.keys(E).length===0},M=async E=>{if(E.preventDefault(),!!A()){v(!0);try{const V={name:g.name,mobile_no:g.mobile,param4:g.date,param19:g.time,summary_dtls:"Life Milestone Race - Slot Booking",p_data_source:"LIFE_MILESTONE_RACE_BOOKING"};(await no(V)).success?(x(!1),u&&u()):alert("Submission failed. Please try again.")}catch(V){console.error(V),alert("Something went wrong.")}finally{v(!1)}}},P=async()=>{const E=window.location.href,V={title:"Life Milestone Race Score",text:`I scored ${d}/100 in the Life Milestone Race! Check how prepared you are.`,url:E};if(navigator.share)try{await navigator.share(V)}catch(U){console.log("Error:",U)}else try{await navigator.clipboard.writeText(V.url),alert("Link copied!")}catch(U){console.error(U)}},D=new Date().toISOString().split("T")[0],k=new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0];return l.jsxs("div",{className:"relative w-full min-h-[100dvh] flex flex-col overflow-hidden max-w-[600px] mx-auto",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[l.jsx(ho,{}),l.jsx("button",{onClick:P,className:"absolute top-4 right-4 z-50 text-white/90 hover:text-white transition-opacity p-2",children:l.jsx(os,{className:"w-6 h-6 sm:w-7 sm:h-7 drop-shadow-md",strokeWidth:2.5})}),l.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),l.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col py-4 px-4 sm:px-8 overflow-y-auto overflow-x-hidden custom-scrollbar"+" justify-between sm:justify-start",children:[l.jsxs("div",{className:"text-center mb-1 shrink-0 mt-4",children:[l.jsxs("h1",{className:"text-base sm:text-lg md:text-xl font-medium text-white uppercase tracking-wide italic mb-1",children:["Hi ",l.jsxs("span",{className:"ml-1 text-2xl sm:text-3xl md:text-4xl font-black",children:[s||"Player","!"]})]}),l.jsxs("h2",{className:"text-base sm:text-lg md:text-xl text-white uppercase tracking-wide italic mb-2",children:["Your ",l.jsx("span",{className:"font-black text-lg sm:text-xl md:text-2xl text-[#FF8C00] drop-shadow-[0_0_10px_rgba(255,140,0,0.8)]",children:"Life Milestone"})," score is"]}),l.jsx(C.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"inline-block transform scale-90 sm:scale-100 mb-2",children:l.jsx(ao,{score:d})}),l.jsx("div",{className:"flex justify-center mt-2 mb-4 relative z-20",children:l.jsxs("button",{onClick:()=>m(!0),className:"text-white/80 hover:text-white text-[10px] sm:text-xs font-bold uppercase tracking-[0.15em] flex items-center gap-1 bg-white/10 px-3 py-1.5 rounded-full backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all",children:["View Journey ",l.jsx(ad,{size:12})]})}),l.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center mt-1 sm:mt-2 mb-4",children:l.jsxs("button",{onClick:P,className:"bg-gradient-to-r from-[#FF8C00] to-[#FF7000] hover:from-[#FF7000] hover:to-[#E65C00] text-white font-black py-2.5 px-8 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center gap-3 text-sm sm:text-base border-2 border-white/20 uppercase tracking-widest",children:[l.jsx(os,{className:"w-5 h-5"})," SHARE"]})})]}),l.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 sm:p-6 shadow-[0_20px_50px_rgba(0,0,0,0.5)] border-4 border-white/50 mb-3 shrink-0 rounded-sm",children:[l.jsx("p",{className:"text-slate-600 text-[10px] sm:text-sm font-bold text-center mb-4 leading-relaxed",children:"To know more, connect with our Relationship Manager."}),l.jsx("a",{href:"tel:1800209999",className:"block w-full mb-4",children:l.jsxs("button",{className:"w-full bg-[#0066B2] hover:bg-[#004C85] text-white font-black py-3 sm:py-4 shadow-[0_6px_0_#00335C] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base uppercase tracking-widest border-2 border-white/20",children:[l.jsx(Us,{className:"w-4 h-4 sm:w-5 sm:h-5"})," CALL NOW"]})}),l.jsxs("div",{className:"relative py-1 mb-3",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t-2 border-slate-50"})}),l.jsx("div",{className:"relative flex justify-center text-[8px] sm:text-xs uppercase",children:l.jsx("span",{className:"px-4 bg-white text-slate-400 font-black tracking-widest",children:"Or"})})]}),l.jsxs("button",{onClick:()=>x(!0),className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-3 sm:py-4 shadow-[0_6px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base uppercase tracking-widest border-2 border-white/20",children:[l.jsx(Qr,{className:"w-4 h-4 sm:w-5 sm:h-5"})," BOOK A CONVENIENT SLOT"]})]}),l.jsx("div",{className:"shrink-0 text-center pb-2",children:l.jsxs("button",{onClick:r,className:"text-blue-100 hover:text-white text-[11px] sm:text-sm font-black uppercase tracking-[0.2em] transition-colors flex items-center justify-center gap-2 mx-auto drop-shadow-md",children:[l.jsx(ud,{className:"w-4 h-4"})," RETAKE QUIZ"]})})]}),p&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:l.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50",children:[l.jsx("button",{onClick:()=>x(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1",children:l.jsx(Ue,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-[#0066B2] font-black text-center mb-6 text-sm sm:text-base uppercase tracking-tight pt-2",children:"Book a convenient slot"}),l.jsxs("form",{onSubmit:M,className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Your Name"}),l.jsx("input",{value:g.name,onChange:E=>w("name",E.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-sm font-bold px-4",placeholder:"Full Name"}),S.name&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:S.name})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mobile Number"}),l.jsx("input",{value:g.mobile,onChange:E=>{const V=E.target.value.replace(/\D/g,"").slice(0,10);w("mobile",V)},type:"tel",className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-sm font-bold px-4",placeholder:"9876543210"}),S.mobile&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:S.mobile})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Date"}),l.jsx("input",{type:"date",min:D,max:k,value:g.date,onChange:E=>w("date",E.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-4"}),S.date&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:S.date})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Time"}),l.jsxs("select",{value:g.time,onChange:E=>w("time",E.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-4 appearance-none",children:[l.jsx("option",{value:"",children:"Select"}),[...Array(12)].map((E,V)=>{const U=9+V,ie=U+1,L=Y=>{const te=Y>=12?"PM":"AM";return`${Y>12?Y-12:Y}:00 ${te}`},G=`${L(U)} - ${L(ie)}`;return l.jsx("option",{value:G,children:G},U)})]}),S.time&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:S.time})]})]}),l.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_6px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest text-sm mt-2 border-2 border-white/20",children:y?"Confirming...":"Book a Slot"})]})]})}),l.jsx(Pe,{children:h&&l.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",onClick:()=>m(!1),children:l.jsxs(C.div,{initial:{scale:.9,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.9,y:20,opacity:0},className:"bg-white w-full max-w-md max-h-[80vh] overflow-hidden rounded-2xl shadow-2xl relative flex flex-col",onClick:E=>E.stopPropagation(),children:[l.jsxs("div",{className:"bg-[#0066B2] p-4 flex items-center justify-between shrink-0",children:[l.jsx("h3",{className:"text-white font-black text-lg uppercase tracking-wider",children:"Your Journey"}),l.jsx("button",{onClick:()=>m(!1),className:"text-white/80 hover:text-white transition-colors",children:l.jsx(Ue,{size:24})})]}),l.jsx("div",{className:"overflow-y-auto p-4 custom-scrollbar bg-slate-50 h-[450px]",children:l.jsx(Gs,{timeline:i,onContinue:()=>{}})})]})})})]})},Dd=10,Vd=f.memo(function({feedback:t,onContinue:s}){if(!t)return null;const n=t.decision==="protected",i=t.delta>0;return l.jsx(C.div,{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsxs(C.div,{className:"w-[85%] max-w-[300px] rounded-[2rem] p-6 shadow-2xl flex flex-col items-center text-center relative overflow-hidden ring-2 ring-white/10",style:{background:n?"linear-gradient(145deg, #1e1b4b 0%, #431407 100%)":"linear-gradient(145deg, #1e1b4b 0%, #172554 100%)"},initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},children:[l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[l.jsx("div",{className:`absolute -top-10 -right-10 w-40 h-40 rounded-full blur-[40px] opacity-40 ${n?"bg-orange-500":"bg-blue-500"}`}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 rounded-full blur-[40px] opacity-20 bg-white"})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx("div",{className:`absolute inset-0 rounded-full blur-lg opacity-60 animate-pulse ${n?"bg-orange-500":"bg-blue-500"}`}),l.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-[2.2rem] relative z-10 shadow-xl border-[4px] border-white/10",style:{background:n?"linear-gradient(135deg, #fb923c 0%, #ea580c 100%)":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"},children:n?"":""})]}),l.jsx("h3",{className:"text-[1.4rem] font-black uppercase italic tracking-tighter mb-1 leading-none text-white drop-shadow-md relative z-10",children:n?"YOU'RE PROTECTED!":"YOU'RE EXPOSED!"}),l.jsx("p",{className:"text-blue-100 font-bold leading-tight mb-4 text-[0.7rem] px-1 relative z-10 opacity-90",children:t.title}),l.jsx("div",{className:"relative z-10 mb-5",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-white/60 text-[0.55rem] font-bold uppercase tracking-[0.2em] mb-0.5",children:"Impact on Score"}),l.jsxs("div",{className:`text-[2.2rem] font-black leading-none flex items-center gap-1 ${i?"text-green-400":"text-red-400"}`,children:[i?"+":"",t.delta]})]})}),l.jsxs(C.button,{onClick:s,whileTap:{scale:.96},className:"w-full py-3 rounded-xl font-black text-white text-sm uppercase tracking-wide shadow-lg relative z-10 overflow-hidden group",style:{background:"linear-gradient(90deg, #FFFFFF 0%, #F0F9FF 100%)",color:n?"#ea580c":"#1e3a8a"},children:[l.jsx("span",{className:"relative z-10",children:"CONTINUE"}),l.jsx("div",{className:"absolute inset-0 bg-white/50 opacity-0 group-hover:opacity-20 transition-opacity"})]})]})})}),Id=f.memo(function(){const t=Ju(),{gameId:s,phase:n,score:i,currentEvent:o,currentEventIndex:r,eventQueue:a,timeline:c,lastFeedback:u,isTimerActive:d,protectionCategory:h,finalScore:m,riskGaps:p,userName:x,userPhone:g,selectedStageData:b,startGame:y,selectStage:v,makeDecision:S,handleTimerExpire:T,advanceToNextEvent:w,showThankYou:A,restartGame:M}=t,{timeLeft:P,progress:D}=Qu(Dd,T,d),k=f.useCallback(B=>{A(B==null?void 0:B.name)},[A]),R=()=>{switch(n){case F.INTRO:return l.jsx($s,{onStart:y},"intro");case F.STAGE_SELECTION:return l.jsx(Ws,{onSelectStage:v},"stage-select");case F.RACING:case F.EVENT_FEEDBACK:return l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx(Ks,{stageData:b,questionNumber:r+1,totalQuestions:a.length,currentEvent:o,timeLeft:P,timerProgress:D,onDecision:S},"question-screen"),l.jsx(Pe,{children:n===F.EVENT_FEEDBACK&&l.jsx(Vd,{feedback:u,onContinue:w},"feedback-popup")})]});case F.FINISH:case F.SCORE_REVEAL:case F.TIMELINE:case F.CONVERSION:case F.LEAD_FORM:return l.jsx(Rd,{score:i,finalScore:m,userName:x,userPhone:g,timeline:c,category:h,onRestart:M,gameId:s,riskGaps:p,onBookSlot:k},"result-screen");case F.THANK_YOU:return l.jsx(Cd,{onRestart:M,userName:x},"thank-you");default:return null}};return l.jsx(zs,{fullScreen:n===F.INTRO,children:l.jsx(Pe,{mode:"wait",children:R()})})});Id.displayName="LifeMilestoneRacePage";export{Id as default};
