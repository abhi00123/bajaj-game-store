import{r as i,j as e,A as j,m as s}from"./index-BykqqvtT.js";import{a as w}from"./lifeGoals-BDP6wLUW.js";const N={1:"./assets/videos/child_edu.mp4",2:"./assets/videos/retirement.mp4",3:"./assets/videos/house.mp4",5:"./assets/videos/travel.mp4",6:"./assets/videos/dream_car.mp4",7:"./assets/videos/financial_security.mp4",8:"./assets/videos/business.mp4",9:"./assets/videos/health.mp4",10:"./assets/videos/child_marriage.mp4"},k={1:"./assets/elements/child-edu.png",2:"./assets/elements/retirement.png",3:"./assets/elements/house.png",5:"./assets/elements/travel.png",6:"./assets/elements/dream_car.png",7:"./assets/elements/financial_security.png",8:"./assets/elements/Planning.png",9:"./assets/elements/health.png",10:"./assets/elements/child_marriage.png"},F=({currentGoal:t,currentGoalIndex:o,currentQuestionIndex:c,onAnswer:d,score:S,lives:_})=>{const[a,v]=i.useState(c===0),[n,p]=i.useState(30),[l,x]=i.useState(!1),[h,u]=i.useState(null),m=i.useRef(null),f=w[c],y=(o*3+c+1)/9*100;i.useEffect(()=>{if(a){const r=setTimeout(()=>{v(!1)},2e3);return()=>clearTimeout(r)}},[a]),i.useEffect(()=>{if(a)return;x(!1),u(null),p(30);const r=()=>{p(b=>b<=1?0:b-1)};return m.current=setInterval(r,1e3),()=>clearInterval(m.current)},[o,c,a]),i.useEffect(()=>{n===0&&!l&&!a&&(clearInterval(m.current),x(!0),d(!1))},[n,l,d,a]);const g=r=>{l||a||(x(!0),u(r),clearInterval(m.current),setTimeout(()=>{d(r)},300))};return!t||!f?null:e.jsxs("div",{className:"ghibli-card",children:[e.jsx("div",{className:"bg-burst"}),e.jsx(j,{mode:"wait",children:a?e.jsxs(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},transition:{duration:.5},className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0066B2] p-4 text-center",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/assets/images/background_burst.png')] opacity-80 mix-blend-overlay bg-cover bg-center"}),e.jsxs(s.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"relative z-10",children:[e.jsx("h2",{className:"text-blue-200 text-xs sm:text-sm font-bold uppercase tracking-[0.2em] mb-2",children:"Next Goal"}),e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl text-white font-black drop-shadow-lg mb-6 leading-tight px-4",children:t.name})]}),e.jsx(s.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",bounce:.5,delay:.3},className:"relative z-10 w-72 h-72 sm:w-96 sm:h-96 mb-8 flex items-center justify-center overflow-hidden pt-4",children:e.jsx(s.img,{src:k[t.id],className:"w-full h-full object-contain"},t.id)}),e.jsx(s.p,{className:"relative z-10 text-blue-100 font-bold text-lg animate-pulse",children:"Get Ready..."})]},"intro"):e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},className:"ghibli-content justify-between sm:justify-center py-2 sm:py-4",children:[e.jsxs("div",{className:"w-full shrink-0 mb-3 sm:mb-4",children:[e.jsxs("header",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-blue-200 text-[10px] sm:text-xs font-bold uppercase tracking-widest",children:["GOAL ",o+1,"/3"]}),e.jsxs("div",{className:"relative w-10 h-10 sm:w-14 sm:h-14 flex items-center justify-center",children:[e.jsxs("svg",{className:"absolute w-full h-full -rotate-90 scale-110",children:[e.jsx("circle",{cx:"50%",cy:"50%",r:"45%",stroke:"rgba(255,255,255,0.2)",strokeWidth:"3",fill:"transparent"}),e.jsx(s.circle,{cx:"50%",cy:"50%",r:"45%",stroke:n<=10?"#EF4444":"#FF8C00",strokeWidth:"3",fill:"transparent",strokeDasharray:"100",animate:{strokeDashoffset:100-100*(n/30)},transition:{duration:1,ease:"linear"},strokeLinecap:"round"})]}),e.jsx("span",{className:`text-sm sm:text-lg font-black ${n<=10?"text-red-300":"text-white"}`,children:n})]})]}),e.jsx("div",{className:"progress-track h-2 sm:h-2.5",children:e.jsx(s.div,{className:"progress-fill",initial:{width:0},animate:{width:`${y}%`},transition:{duration:.5}})}),e.jsx("h2",{className:"text-white text-2xl sm:text-3xl md:text-4xl pt-8 font-extrabold drop-shadow-md text-center mt-1 uppercase",children:t.name})]}),e.jsxs("div",{className:"assessment-container flex-1 flex flex-col justify-center items-center gap-0 sm:gap-3 w-full min-h-0 pb-4",children:[e.jsx("div",{className:"w-full flex justify-center items-center flex-grow pt-2 sm:pt-8",children:e.jsx("div",{className:"goal-video-container relative w-[380px] h-[380px] sm:w-[400px] sm:h-[400px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:e.jsx(j,{mode:"wait",children:e.jsx(s.video,{src:N[t.id],autoPlay:!0,loop:!0,muted:!0,playsInline:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"max-w-full max-h-full object-contain",style:{maskImage:"radial-gradient(circle, black 35%, transparent 80%)",WebkitMaskImage:"radial-gradient(circle, black 35%, transparent 80%)"}},t.id)})})}),e.jsx(s.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"question-card w-full mx-0.5 sm:mx-1 md:mx-2 bg-white/95 backdrop-blur-sm p-3 sm:p-5 shadow-2xl border-4 border-white/50 text-center mb-2",children:e.jsx("h3",{className:"text-[#0066B2] text-lg sm:text-xl md:text-2xl font-black leading-snug drop-shadow-sm",children:f.text.replace(/this (life )?goal/gi,`"${t.name}"`)})},`q-${c}`),e.jsxs("div",{className:"assessment-buttons w-full mx-0.5 sm:mx-1 md:mx-2 grid grid-cols-2 gap-3 sm:gap-5 mb-6",children:[e.jsx("button",{onClick:()=>g(!0),disabled:l,className:`relative !py-3 sm:!py-4 !text-lg sm:!text-xl font-black transition-all uppercase tracking-widest ${l&&h===!0?"bg-[#FF8C00] text-slate-900":"bg-white text-[#0066B2] hover:bg-slate-50"}`,children:"YES"}),e.jsx("button",{onClick:()=>g(!1),disabled:l,className:`relative !py-3 sm:!py-4 !text-lg sm:!text-xl font-black transition-all uppercase tracking-widest ${l&&h===!1?"bg-[#FF8C00] text-slate-900":"bg-white text-[#0066B2] hover:bg-slate-50"}`,children:"NO"})]})]})]},"content")})]})};export{F as default};
